version: 0
block:
  attributes:
    action_names:
      type:
      - set
      - string
      description: One or more names of actions, like "iam:CreateUser", that should be included in the simulation.
      description_kind: plain
      required: true
    additional_policies_json:
      type:
      - set
      - string
      description: Additional principal-based policies to use in the simulation.
      description_kind: plain
      optional: true
    all_allowed:
      type: bool
      description: A summary of the results attribute which is true if all of the results have decision "allowed", and false otherwise.
      description_kind: plain
      computed: true
    caller_arn:
      type: string
      description: ARN of a user to use as the caller of the simulated requests. If not specified, defaults to the principal specified in policy_source_arn, if it is a user ARN.
      description_kind: plain
      optional: true
    id:
      type: string
      description: Do not use
      description_kind: plain
      computed: true
    permissions_boundary_policies_json:
      type:
      - set
      - string
      description: Additional permission boundary policies to use in the simulation.
      description_kind: plain
      optional: true
    policy_source_arn:
      type: string
      description: ARN of the principal (e.g. user, role) whose existing configured access policies will be used as the basis for the simulation. If you specify a role ARN here, you can also set caller_arn to simulate a particular user acting with the given role.
      description_kind: plain
      required: true
    resource_arns:
      type:
      - set
      - string
      description: ARNs of specific resources to use as the targets of the specified actions during simulation. If not specified, the simulator assumes "*" which represents general access across all resources.
      description_kind: plain
      optional: true
    resource_handling_option:
      type: string
      description: Specifies the type of simulation to run. Some API operations need a particular resource handling option in order to produce a correct reesult.
      description_kind: plain
      optional: true
    resource_owner_account_id:
      type: string
      description: An AWS account ID to use as the simulated owner for any resource whose ARN does not include a specific owner account ID. Defaults to the account given as part of caller_arn.
      description_kind: plain
      optional: true
    resource_policy_json:
      type: string
      description: A resource policy to associate with all of the target resources for simulation purposes. The policy simulator does not automatically retrieve resource-level policies, so if a resource policy is crucial to your test then you must specify here the same policy document associated with your target resource(s).
      description_kind: plain
      optional: true
    results:
      type:
      - set
      - - object
        - action_name: string
          allowed: bool
          decision: string
          decision_details:
          - map
          - string
          matched_statements:
          - set
          - - object
            - source_policy_id: string
              source_policy_type: string
          missing_context_keys:
          - set
          - string
          resource_arn: string
      description_kind: plain
      computed: true
  block_types:
    context:
      nesting_mode: set
      block:
        attributes:
          key:
            type: string
            description: The key name of the context entry, such as "aws:CurrentTime".
            description_kind: plain
            required: true
          type:
            type: string
            description: The type that the simulator should use to interpret the strings given in argument "values".
            description_kind: plain
            required: true
          values:
            type:
            - set
            - string
            description: One or more values to assign to the context key, given as a string in a syntax appropriate for the selected value type.
            description_kind: plain
            required: true
        description: Each block specifies one item of additional context entry to include in the simulated requests. These are the additional properties used in the 'Condition' element of an IAM policy, and in dynamic value interpolations.
        description_kind: plain
  description_kind: plain
