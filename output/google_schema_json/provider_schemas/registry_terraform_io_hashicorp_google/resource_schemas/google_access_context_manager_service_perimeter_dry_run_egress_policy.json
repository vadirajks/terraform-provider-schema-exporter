{
  "version": 0,
  "block": {
    "attributes": {
      "access_policy_id": {
        "type": "string",
        "description": "The name of the Access Policy this resource belongs to.",
        "description_kind": "plain",
        "computed": true
      },
      "etag": {
        "type": "string",
        "description": "The perimeter etag is internally used to prevent overwriting the list of policies on PATCH calls. It is retrieved from the same GET perimeter API call that's used to get the current list of policies. The policy defined in this resource is added or removed from that list, and then this etag is sent with the PATCH call along with the updated policies.",
        "description_kind": "plain",
        "computed": true
      },
      "id": {
        "type": "string",
        "description_kind": "plain",
        "optional": true,
        "computed": true
      },
      "perimeter": {
        "type": "string",
        "description": "The name of the Service Perimeter to add this resource to.",
        "description_kind": "plain",
        "required": true
      },
      "title": {
        "type": "string",
        "description": "Human readable title. Must be unique within the perimeter. Does not affect behavior.",
        "description_kind": "plain",
        "optional": true
      }
    },
    "block_types": {
      "egress_from": {
        "nesting_mode": "list",
        "block": {
          "attributes": {
            "identities": {
              "type": [
                "list",
                "string"
              ],
              "description": "Identities can be an individual user, service account, Google group, or third-party identity. For third-party identity, only single identities are supported and other identity types are not supported.The v1 identities that have the prefix user, group and serviceAccount in https://cloud.google.com/iam/docs/principal-identifiers#v1 are supported.",
              "description_kind": "plain",
              "optional": true
            },
            "identity_type": {
              "type": "string",
              "description": "Specifies the type of identities that are allowed access to outside the perimeter. If left unspecified, then members of 'identities' field will be allowed access. Possible values: [\"ANY_IDENTITY\", \"ANY_USER_ACCOUNT\", \"ANY_SERVICE_ACCOUNT\"]",
              "description_kind": "plain",
              "optional": true
            },
            "source_restriction": {
              "type": "string",
              "description": "Whether to enforce traffic restrictions based on 'sources' field. If the 'sources' field is non-empty, then this field must be set to 'SOURCE_RESTRICTION_ENABLED'. Possible values: [\"SOURCE_RESTRICTION_ENABLED\", \"SOURCE_RESTRICTION_DISABLED\"]",
              "description_kind": "plain",
              "optional": true
            }
          },
          "block_types": {
            "sources": {
              "nesting_mode": "list",
              "block": {
                "attributes": {
                  "access_level": {
                    "type": "string",
                    "description": "An AccessLevel resource name that allows resources outside the ServicePerimeter to be accessed from the inside.",
                    "description_kind": "plain",
                    "optional": true
                  },
                  "resource": {
                    "type": "string",
                    "description": "A Google Cloud resource that is allowed to egress the perimeter. Requests from these resources are allowed to access data outside the perimeter. Currently only projects are allowed. Project format: 'projects/{project_number}'. The resource may be in any Google Cloud organization, not just the organization that the perimeter is defined in. '*' is not allowed, the case of allowing all Google Cloud resources only is not supported.",
                    "description_kind": "plain",
                    "optional": true
                  }
                },
                "description": "Sources that this EgressPolicy authorizes access from.",
                "description_kind": "plain"
              }
            }
          },
          "description": "Defines conditions on the source of a request causing this 'EgressPolicy' to apply.",
          "description_kind": "plain"
        },
        "max_items": 1
      },
      "egress_to": {
        "nesting_mode": "list",
        "block": {
          "attributes": {
            "external_resources": {
              "type": [
                "list",
                "string"
              ],
              "description": "A list of external resources that are allowed to be accessed. A request matches if it contains an external resource in this list (Example: s3://bucket/path). Currently '*' is not allowed.",
              "description_kind": "plain",
              "optional": true
            },
            "resources": {
              "type": [
                "list",
                "string"
              ],
              "description": "A list of resources, currently only projects in the form 'projects/<projectnumber>', that match this to stanza. A request matches if it contains a resource in this list. If * is specified for resources, then this 'EgressTo' rule will authorize access to all resources outside the perimeter.",
              "description_kind": "plain",
              "optional": true
            },
            "roles": {
              "type": [
                "list",
                "string"
              ],
              "description": "A list of IAM roles that represent the set of operations that the sources specified in the corresponding 'EgressFrom' are allowed to perform.",
              "description_kind": "plain",
              "optional": true
            }
          },
          "block_types": {
            "operations": {
              "nesting_mode": "list",
              "block": {
                "attributes": {
                  "service_name": {
                    "type": "string",
                    "description": "The name of the API whose methods or permissions the 'IngressPolicy' or 'EgressPolicy' want to allow. A single 'ApiOperation' with serviceName field set to '*' will allow all methods AND permissions for all services.",
                    "description_kind": "plain",
                    "optional": true
                  }
                },
                "block_types": {
                  "method_selectors": {
                    "nesting_mode": "list",
                    "block": {
                      "attributes": {
                        "method": {
                          "type": "string",
                          "description": "Value for 'method' should be a valid method name for the corresponding 'serviceName' in 'ApiOperation'. If '*' used as value for method, then ALL methods and permissions are allowed.",
                          "description_kind": "plain",
                          "optional": true
                        },
                        "permission": {
                          "type": "string",
                          "description": "Value for permission should be a valid Cloud IAM permission for the corresponding 'serviceName' in 'ApiOperation'.",
                          "description_kind": "plain",
                          "optional": true
                        }
                      },
                      "description": "API methods or permissions to allow. Method or permission must belong to the service specified by 'serviceName' field. A single MethodSelector entry with '*' specified for the 'method' field will allow all methods AND permissions for the service specified in 'serviceName'.",
                      "description_kind": "plain"
                    }
                  }
                },
                "description": "A list of 'ApiOperations' that this egress rule applies to. A request matches if it contains an operation/service in this list.",
                "description_kind": "plain"
              }
            }
          },
          "description": "Defines the conditions on the 'ApiOperation' and destination resources that cause this 'EgressPolicy' to apply.",
          "description_kind": "plain"
        },
        "max_items": 1
      },
      "timeouts": {
        "nesting_mode": "single",
        "block": {
          "attributes": {
            "create": {
              "type": "string",
              "description_kind": "plain",
              "optional": true
            },
            "delete": {
              "type": "string",
              "description_kind": "plain",
              "optional": true
            }
          },
          "description_kind": "plain"
        }
      }
    },
    "description_kind": "plain"
  }
}