version: 0
block:
  attributes:
    display_name:
      type: string
      description: The display name of the rule.
      description_kind: plain
      optional: true
    etag:
      type: string
      description: The hash of the resource. Used internally during updates.
      description_kind: plain
      computed: true
    id:
      type: string
      description_kind: plain
      optional: true
      computed: true
    name:
      type: string
      description: The name of the policy.
      description_kind: plain
      required: true
    parent:
      type: string
      description: The attachment point is identified by its URL-encoded full resource name.
      description_kind: plain
      required: true
  block_types:
    rules:
      nesting_mode: list
      block:
        attributes:
          description:
            type: string
            description: The description of the rule.
            description_kind: plain
            optional: true
        block_types:
          deny_rule:
            nesting_mode: list
            block:
              attributes:
                denied_permissions:
                  type:
                  - list
                  - string
                  description: The permissions that are explicitly denied by this rule. Each permission uses the format '{service-fqdn}/{resource}.{verb}', where '{service-fqdn}' is the fully qualified domain name for the service. For example, 'iam.googleapis.com/roles.list'.
                  description_kind: plain
                  optional: true
                denied_principals:
                  type:
                  - list
                  - string
                  description: The identities that are prevented from using one or more permissions on Google Cloud resources.
                  description_kind: plain
                  optional: true
                exception_permissions:
                  type:
                  - list
                  - string
                  description: Specifies the permissions that this rule excludes from the set of denied permissions given by deniedPermissions. If a permission appears in deniedPermissions and in exceptionPermissions then it will not be denied. The excluded permissions can be specified using the same syntax as deniedPermissions.
                  description_kind: plain
                  optional: true
                exception_principals:
                  type:
                  - list
                  - string
                  description: The identities that are excluded from the deny rule, even if they are listed in the deniedPrincipals. For example, you could add a Google group to the deniedPrincipals, then exclude specific users who belong to that group.
                  description_kind: plain
                  optional: true
              block_types:
                denial_condition:
                  nesting_mode: list
                  block:
                    attributes:
                      description:
                        type: string
                        description: Description of the expression. This is a longer text which describes the expression, e.g. when hovered over it in a UI.
                        description_kind: plain
                        optional: true
                      expression:
                        type: string
                        description: Textual representation of an expression in Common Expression Language syntax.
                        description_kind: plain
                        required: true
                      location:
                        type: string
                        description: String indicating the location of the expression for error reporting, e.g. a file name and a position in the file.
                        description_kind: plain
                        optional: true
                      title:
                        type: string
                        description: Title for the expression, i.e. a short string describing its purpose. This can be used e.g. in UIs which allow to enter the expression.
                        description_kind: plain
                        optional: true
                    description: User defined CEVAL expression. A CEVAL expression is used to specify match criteria such as origin.ip, source.region_code and contents in the request header.
                    description_kind: plain
                  max_items: 1
              description: A deny rule in an IAM deny policy.
              description_kind: plain
            max_items: 1
        description: Rules to be applied.
        description_kind: plain
      min_items: 1
    timeouts:
      nesting_mode: single
      block:
        attributes:
          create:
            type: string
            description_kind: plain
            optional: true
          delete:
            type: string
            description_kind: plain
            optional: true
          update:
            type: string
            description_kind: plain
            optional: true
        description_kind: plain
  description_kind: plain
