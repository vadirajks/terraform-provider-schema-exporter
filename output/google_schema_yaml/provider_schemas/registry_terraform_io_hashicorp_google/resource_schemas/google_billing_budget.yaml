version: 1
block:
  attributes:
    billing_account:
      type: string
      description: ID of the billing account to set a budget on.
      description_kind: plain
      required: true
    display_name:
      type: string
      description: User data for display name in UI. Must be <= 60 chars.
      description_kind: plain
      optional: true
    id:
      type: string
      description_kind: plain
      optional: true
      computed: true
    name:
      type: string
      description: Resource name of the budget. The resource name implies the scope of a budget. Values are of the form billingAccounts/{billingAccountId}/budgets/{budgetId}.
      description_kind: plain
      computed: true
    ownership_scope:
      type: string
      description: 'The ownership scope of the budget. The ownership scope and users'' IAM permissions determine who has full access to the budget''s data. Possible values: ["OWNERSHIP_SCOPE_UNSPECIFIED", "ALL_USERS", "BILLING_ACCOUNT"]'
      description_kind: plain
      optional: true
  block_types:
    all_updates_rule:
      nesting_mode: list
      block:
        attributes:
          disable_default_iam_recipients:
            type: bool
            description: Boolean. When set to true, disables default notifications sent when a threshold is exceeded. Default recipients are those with Billing Account Administrators and Billing Account Users IAM roles for the target account.
            description_kind: plain
            optional: true
          enable_project_level_recipients:
            type: bool
            description: When set to true, and when the budget has a single project configured, notifications will be sent to project level recipients of that project. This field will be ignored if the budget has multiple or no project configured. Currently, project level recipients are the users with Owner role on a cloud project.
            description_kind: plain
            optional: true
          monitoring_notification_channels:
            type:
            - list
            - string
            description: The full resource name of a monitoring notification channel in the form projects/{project_id}/notificationChannels/{channel_id}. A maximum of 5 channels are allowed.
            description_kind: plain
            optional: true
          pubsub_topic:
            type: string
            description: The name of the Cloud Pub/Sub topic where budget related messages will be published, in the form projects/{project_id}/topics/{topic_id}. Updates are sent at regular intervals to the topic.
            description_kind: plain
            optional: true
          schema_version:
            type: string
            description: The schema version of the notification. Only "1.0" is accepted. It represents the JSON schema as defined in https://cloud.google.com/billing/docs/how-to/budgets#notification_format.
            description_kind: plain
            optional: true
        description: Defines notifications that are sent on every update to the billing account's spend, regardless of the thresholds defined using threshold rules.
        description_kind: plain
      max_items: 1
    amount:
      nesting_mode: list
      block:
        attributes:
          last_period_amount:
            type: bool
            description: Configures a budget amount that is automatically set to 100% of last period's spend. Boolean. Set value to true to use. Do not set to false, instead use the 'specified_amount' block.
            description_kind: plain
            optional: true
        block_types:
          specified_amount:
            nesting_mode: list
            block:
              attributes:
                currency_code:
                  type: string
                  description: The 3-letter currency code defined in ISO 4217.
                  description_kind: plain
                  optional: true
                  computed: true
                nanos:
                  type: number
                  description: Number of nano (10^-9) units of the amount. The value must be between -999,999,999 and +999,999,999 inclusive. If units is positive, nanos must be positive or zero. If units is zero, nanos can be positive, zero, or negative. If units is negative, nanos must be negative or zero. For example $-1.75 is represented as units=-1 and nanos=-750,000,000.
                  description_kind: plain
                  optional: true
                units:
                  type: string
                  description: The whole units of the amount. For example if currencyCode is "USD", then 1 unit is one US dollar.
                  description_kind: plain
                  optional: true
              description: A specified amount to use as the budget. currencyCode is optional. If specified, it must match the currency of the billing account. The currencyCode is provided on output.
              description_kind: plain
            max_items: 1
        description: The budgeted amount for each usage period.
        description_kind: plain
      min_items: 1
      max_items: 1
    budget_filter:
      nesting_mode: list
      block:
        attributes:
          calendar_period:
            type: string
            description: 'A CalendarPeriod represents the abstract concept of a recurring time period that has a canonical start. Grammatically, "the start of the current CalendarPeriod". All calendar times begin at 12 AM US and Canadian Pacific Time (UTC-8). Exactly one of ''calendar_period'', ''custom_period'' must be provided. Possible values: ["MONTH", "QUARTER", "YEAR", "CALENDAR_PERIOD_UNSPECIFIED"]'
            description_kind: plain
            optional: true
          credit_types:
            type:
            - list
            - string
            description: Optional. If creditTypesTreatment is INCLUDE_SPECIFIED_CREDITS, this is a list of credit types to be subtracted from gross cost to determine the spend for threshold calculations. See a list of acceptable credit type values. If creditTypesTreatment is not INCLUDE_SPECIFIED_CREDITS, this field must be empty.
            description_kind: plain
            optional: true
          credit_types_treatment:
            type: string
            description: 'Specifies how credits should be treated when determining spend for threshold calculations. Default value: "INCLUDE_ALL_CREDITS" Possible values: ["INCLUDE_ALL_CREDITS", "EXCLUDE_ALL_CREDITS", "INCLUDE_SPECIFIED_CREDITS"]'
            description_kind: plain
            optional: true
          labels:
            type:
            - map
            - string
            description: A single label and value pair specifying that usage from only this set of labeled resources should be included in the budget.
            description_kind: plain
            optional: true
            computed: true
          projects:
            type:
            - set
            - string
            description: A set of projects of the form projects/{project_number}, specifying that usage from only this set of projects should be included in the budget. If omitted, the report will include all usage for the billing account, regardless of which project the usage occurred on.
            description_kind: plain
            optional: true
          resource_ancestors:
            type:
            - set
            - string
            description: A set of folder and organization names of the form folders/{folderId} or organizations/{organizationId}, specifying that usage from only this set of folders and organizations should be included in the budget. If omitted, the budget includes all usage that the billing account pays for. If the folder or organization contains projects that are paid for by a different Cloud Billing account, the budget doesn't apply to those projects.
            description_kind: plain
            optional: true
          services:
            type:
            - list
            - string
            description: 'A set of services of the form services/{service_id}, specifying that usage from only this set of services should be included in the budget. If omitted, the report will include usage for all the services. The service names are available through the Catalog API: https://cloud.google.com/billing/v1/how-tos/catalog-api.'
            description_kind: plain
            optional: true
            computed: true
          subaccounts:
            type:
            - list
            - string
            description: A set of subaccounts of the form billingAccounts/{account_id}, specifying that usage from only this set of subaccounts should be included in the budget. If a subaccount is set to the name of the parent account, usage from the parent account will be included. If the field is omitted, the report will include usage from the parent account and all subaccounts, if they exist.
            description_kind: plain
            optional: true
        block_types:
          custom_period:
            nesting_mode: list
            block:
              block_types:
                end_date:
                  nesting_mode: list
                  block:
                    attributes:
                      day:
                        type: number
                        description: Day of a month. Must be from 1 to 31 and valid for the year and month.
                        description_kind: plain
                        required: true
                      month:
                        type: number
                        description: Month of a year. Must be from 1 to 12.
                        description_kind: plain
                        required: true
                      year:
                        type: number
                        description: Year of the date. Must be from 1 to 9999.
                        description_kind: plain
                        required: true
                    description: Optional. The end date of the time period. Budgets with elapsed end date won't be processed. If unset, specifies to track all usage incurred since the startDate.
                    description_kind: plain
                  max_items: 1
                start_date:
                  nesting_mode: list
                  block:
                    attributes:
                      day:
                        type: number
                        description: Day of a month. Must be from 1 to 31 and valid for the year and month.
                        description_kind: plain
                        required: true
                      month:
                        type: number
                        description: Month of a year. Must be from 1 to 12.
                        description_kind: plain
                        required: true
                      year:
                        type: number
                        description: Year of the date. Must be from 1 to 9999.
                        description_kind: plain
                        required: true
                    description: A start date is required. The start date must be after January 1, 2017.
                    description_kind: plain
                  min_items: 1
                  max_items: 1
              description: Specifies to track usage from any start date (required) to any end date (optional). This time period is static, it does not recur. Exactly one of 'calendar_period', 'custom_period' must be provided.
              description_kind: plain
            max_items: 1
        description: Filters that define which resources are used to compute the actual spend against the budget.
        description_kind: plain
      max_items: 1
    threshold_rules:
      nesting_mode: list
      block:
        attributes:
          spend_basis:
            type: string
            description: 'The type of basis used to determine if spend has passed the threshold. Default value: "CURRENT_SPEND" Possible values: ["CURRENT_SPEND", "FORECASTED_SPEND"]'
            description_kind: plain
            optional: true
          threshold_percent:
            type: number
            description: Send an alert when this threshold is exceeded. This is a 1.0-based percentage, so 0.5 = 50%. Must be >= 0.
            description_kind: plain
            required: true
        description: Rules that trigger alerts (notifications of thresholds being crossed) when spend exceeds the specified percentages of the budget.
        description_kind: plain
    timeouts:
      nesting_mode: single
      block:
        attributes:
          create:
            type: string
            description_kind: plain
            optional: true
          delete:
            type: string
            description_kind: plain
            optional: true
          update:
            type: string
            description_kind: plain
            optional: true
        description_kind: plain
  description_kind: plain
