version: 0
block:
  attributes:
    create_time:
      type: string
      description: Output only. The timestamp when the resource was created.
      description_kind: plain
      computed: true
    description:
      type: string
      description: Optional. A human-readable description of the resource.
      description_kind: plain
      optional: true
    effective_labels:
      type:
      - map
      - string
      description: All of labels (key/value pairs) present on the resource in GCP, including the labels configured through Terraform, other clients and services.
      description_kind: plain
      computed: true
    id:
      type: string
      description_kind: plain
      optional: true
      computed: true
    labels:
      type:
      - map
      - string
      description: 'Optional. Set of labels associated with the WasmPlugin resource. **Note**: This field is non-authoritative, and will only manage the labels present in your configuration. Please refer to the field ''effective_labels'' for all of the labels present on the resource.'
      description_kind: plain
      optional: true
    location:
      type: string
      description: The location of the traffic extension
      description_kind: plain
      optional: true
    main_version_id:
      type: string
      description: The ID of the WasmPluginVersion resource that is the currently serving one. The version referred to must be a child of this WasmPlugin resource and should be listed in the "versions" field.
      description_kind: plain
      required: true
    name:
      type: string
      description: Identifier. Name of the WasmPlugin resource.
      description_kind: plain
      required: true
    project:
      type: string
      description_kind: plain
      optional: true
      computed: true
    terraform_labels:
      type:
      - map
      - string
      description: The combination of labels configured directly on the resource and default labels configured on the provider.
      description_kind: plain
      computed: true
    update_time:
      type: string
      description: Output only. The timestamp when the resource was updated.
      description_kind: plain
      computed: true
    used_by:
      type:
      - list
      - - object
        - name: string
      description: Output only. List of all extensions that use this WasmPlugin resource.
      description_kind: plain
      computed: true
  block_types:
    log_config:
      nesting_mode: list
      block:
        attributes:
          enable:
            type: bool
            description: Optional. Specifies whether to enable logging for activity by this plugin.
            description_kind: plain
            optional: true
          min_log_level:
            type: string
            description: 'Non-empty default. Specificies the lowest level of the plugin logs that are exported to Cloud Logging. This setting relates to the logs generated by using logging statements in your Wasm code. This field is can be set only if logging is enabled for the plugin. If the field is not provided when logging is enabled, it is set to INFO by default. Possible values: ["LOG_LEVEL_UNSPECIFIED", "TRACE", "DEBUG", "INFO", "WARN", "ERROR", "CRITICAL"]'
            description_kind: plain
            optional: true
            computed: true
          sample_rate:
            type: number
            description: Non-empty default. Configures the sampling rate of activity logs, where 1.0 means all logged activity is reported and 0.0 means no activity is reported. A floating point value between 0.0 and 1.0 indicates that a percentage of log messages is stored. The default value when logging is enabled is 1.0. The value of the field must be between 0 and 1 (inclusive). This field can be specified only if logging is enabled for this plugin.
            description_kind: plain
            optional: true
            computed: true
        description: Optional. Specifies the logging options for the activity performed by this plugin. If logging is enabled, plugin logs are exported to Cloud Logging. Note that the settings relate to the logs generated by using logging statements in your Wasm code.
        description_kind: plain
      max_items: 1
    timeouts:
      nesting_mode: single
      block:
        attributes:
          create:
            type: string
            description_kind: plain
            optional: true
          delete:
            type: string
            description_kind: plain
            optional: true
          update:
            type: string
            description_kind: plain
            optional: true
        description_kind: plain
    versions:
      nesting_mode: set
      block:
        attributes:
          create_time:
            type: string
            description: Output only. The timestamp when the resource was created.
            description_kind: plain
            computed: true
          description:
            type: string
            description: Optional. A human-readable description of the resource.
            description_kind: plain
            optional: true
          image_digest:
            type: string
            description: Output only. The resolved digest for the image specified in the image field. The digest is resolved during the creation of WasmPluginVersion resource. This field holds the digest value, regardless of whether a tag or digest was originally specified in the image field.
            description_kind: plain
            computed: true
          image_uri:
            type: string
            description: Optional. URI of the container image containing the plugin, stored in the Artifact Registry. When a new WasmPluginVersion resource is created, the digest of the container image is saved in the imageDigest field. When downloading an image, the digest value is used instead of an image tag.
            description_kind: plain
            optional: true
          labels:
            type:
            - map
            - string
            description: Optional. Set of labels associated with the WasmPlugin resource.
            description_kind: plain
            optional: true
          plugin_config_data:
            type: string
            description: A base64-encoded string containing the configuration for the plugin. The configuration is provided to the plugin at runtime through the ON_CONFIGURE callback. When a new WasmPluginVersion resource is created, the digest of the contents is saved in the pluginConfigDigest field. Conflics with pluginConfigUri.
            description_kind: plain
            optional: true
          plugin_config_digest:
            type: string
            description: Output only. This field holds the digest (usually checksum) value for the plugin configuration. The value is calculated based on the contents of pluginConfigData or the container image defined by the pluginConfigUri field.
            description_kind: plain
            computed: true
          plugin_config_uri:
            type: string
            description: URI of the plugin configuration stored in the Artifact Registry. The configuration is provided to the plugin at runtime through the ON_CONFIGURE callback. The container image must contain only a single file with the name plugin.config. When a new WasmPluginVersion resource is created, the digest of the container image is saved in the pluginConfigDigest field. Conflics with pluginConfigData.
            description_kind: plain
            optional: true
          update_time:
            type: string
            description: Output only. The timestamp when the resource was updated.
            description_kind: plain
            computed: true
          version_name:
            type: string
            description_kind: plain
            required: true
        description: All versions of this WasmPlugin resource in the key-value format. The key is the resource ID, and the value is the VersionDetails object.
        description_kind: plain
      min_items: 1
  description_kind: plain
