version: 0
block:
  attributes:
    cluster_ca_certificate:
      type: string
      description: The PEM-encoded public certificate of the cluster's CA.
      description_kind: plain
      computed: true
      sensitive: true
    control_plane_version:
      type: string
      description: The control plane release version.
      description_kind: plain
      computed: true
    create_time:
      type: string
      description: The time the cluster was created, in RFC3339 text format.
      description_kind: plain
      computed: true
    default_max_pods_per_node:
      type: number
      description: The default maximum number of pods per node used if a maximum value is not specified explicitly for a node pool in this cluster. If unspecified, the Kubernetes default value will be used.
      description_kind: plain
      optional: true
      computed: true
    effective_labels:
      type:
      - map
      - string
      description: All of labels (key/value pairs) present on the resource in GCP, including the labels configured through Terraform, other clients and services.
      description_kind: plain
      computed: true
    endpoint:
      type: string
      description: The IP address of the Kubernetes API server.
      description_kind: plain
      computed: true
    external_load_balancer_ipv4_address_pools:
      type:
      - list
      - string
      description: Address pools for cluster data plane external load balancing.
      description_kind: plain
      optional: true
      computed: true
    id:
      type: string
      description_kind: plain
      optional: true
      computed: true
    labels:
      type:
      - map
      - string
      description: 'User-defined labels for the edgecloud cluster. **Note**: This field is non-authoritative, and will only manage the labels present in your configuration. Please refer to the field ''effective_labels'' for all of the labels present on the resource.'
      description_kind: plain
      optional: true
    location:
      type: string
      description: The location of the resource.
      description_kind: plain
      required: true
    maintenance_events:
      type:
      - list
      - - object
        - create_time: string
          end_time: string
          operation: string
          schedule: string
          start_time: string
          state: string
          target_version: string
          type: string
          update_time: string
          uuid: string
      description: All the maintenance events scheduled for the cluster, including the ones ongoing, planned for the future and done in the past (up to 90 days).
      description_kind: plain
      computed: true
    name:
      type: string
      description: The GDCE cluster name.
      description_kind: plain
      required: true
    node_version:
      type: string
      description: The lowest release version among all worker nodes. This field can be empty if the cluster does not have any worker nodes.
      description_kind: plain
      computed: true
    port:
      type: number
      description: The port number of the Kubernetes API server.
      description_kind: plain
      computed: true
    project:
      type: string
      description_kind: plain
      optional: true
      computed: true
    release_channel:
      type: string
      description: 'The release channel a cluster is subscribed to. Possible values: ["RELEASE_CHANNEL_UNSPECIFIED", "NONE", "REGULAR"]'
      description_kind: plain
      optional: true
      computed: true
    status:
      type: string
      description: Indicates the status of the cluster.
      description_kind: plain
      computed: true
    target_version:
      type: string
      description: 'The target cluster version. For example: "1.5.0".'
      description_kind: plain
      optional: true
      computed: true
    terraform_labels:
      type:
      - map
      - string
      description: The combination of labels configured directly on the resource and default labels configured on the provider.
      description_kind: plain
      computed: true
    update_time:
      type: string
      description: The time the cluster was last updated, in RFC3339 text format.
      description_kind: plain
      computed: true
  block_types:
    authorization:
      nesting_mode: list
      block:
        block_types:
          admin_users:
            nesting_mode: list
            block:
              attributes:
                username:
                  type: string
                  description: An active Google username.
                  description_kind: plain
                  required: true
              description: User that will be granted the cluster-admin role on the cluster, providing full access to the cluster. Currently, this is a singular field, but will be expanded to allow multiple admins in the future.
              description_kind: plain
            min_items: 1
            max_items: 1
        description: RBAC policy that will be applied and managed by GEC.
        description_kind: plain
      min_items: 1
      max_items: 1
    control_plane:
      nesting_mode: list
      block:
        block_types:
          local:
            nesting_mode: list
            block:
              attributes:
                machine_filter:
                  type: string
                  description: 'Only machines matching this filter will be allowed to host control plane nodes. The filtering language accepts strings like "name=<name>", and is documented here: [AIP-160](https://google.aip.dev/160).'
                  description_kind: plain
                  optional: true
                node_count:
                  type: number
                  description: The number of nodes to serve as replicas of the Control Plane. Only 1 and 3 are supported.
                  description_kind: plain
                  optional: true
                  computed: true
                node_location:
                  type: string
                  description: 'Name of the Google Distributed Cloud Edge zones where this node pool will be created. For example: ''us-central1-edge-customer-a''.'
                  description_kind: plain
                  optional: true
                  computed: true
                shared_deployment_policy:
                  type: string
                  description: 'Policy configuration about how user applications are deployed. Possible values: ["SHARED_DEPLOYMENT_POLICY_UNSPECIFIED", "ALLOWED", "DISALLOWED"]'
                  description_kind: plain
                  optional: true
                  computed: true
              description: Local control plane configuration.
              description_kind: plain
            max_items: 1
          remote:
            nesting_mode: list
            block:
              attributes:
                node_location:
                  type: string
                  description: 'Name of the Google Distributed Cloud Edge zones where this node pool will be created. For example: ''us-central1-edge-customer-a''.'
                  description_kind: plain
                  optional: true
                  computed: true
              description: Remote control plane configuration.
              description_kind: plain
            max_items: 1
        description: The configuration of the cluster control plane.
        description_kind: plain
      max_items: 1
    control_plane_encryption:
      nesting_mode: list
      block:
        attributes:
          kms_key:
            type: string
            description: The Cloud KMS CryptoKey e.g. projects/{project}/locations/{location}/keyRings/{keyRing}/cryptoKeys/{cryptoKey} to use for protecting control plane disks. If not specified, a Google-managed key will be used instead.
            description_kind: plain
            optional: true
            computed: true
          kms_key_active_version:
            type: string
            description: The Cloud KMS CryptoKeyVersion currently in use for protecting control plane disks. Only applicable if kms_key is set.
            description_kind: plain
            computed: true
          kms_key_state:
            type: string
            description: Availability of the Cloud KMS CryptoKey. If not 'KEY_AVAILABLE', then nodes may go offline as they cannot access their local data. This can be caused by a lack of permissions to use the key, or if the key is disabled or deleted.
            description_kind: plain
            computed: true
          kms_status:
            type:
            - list
            - - object
              - code: number
                message: string
            description: Error status returned by Cloud KMS when using this key. This field may be populated only if 'kms_key_state' is not 'KMS_KEY_STATE_KEY_AVAILABLE'. If populated, this field contains the error status reported by Cloud KMS.
            description_kind: plain
            computed: true
        description: Remote control plane disk encryption options. This field is only used when enabling CMEK support.
        description_kind: plain
      max_items: 1
    fleet:
      nesting_mode: list
      block:
        attributes:
          membership:
            type: string
            description: The name of the managed Hub Membership resource associated to this cluster. Membership names are formatted as 'projects/<project-number>/locations/global/membership/<cluster-id>'.
            description_kind: plain
            computed: true
          project:
            type: string
            description: The name of the Fleet host project where this cluster will be registered. Project names are formatted as 'projects/<project-number>'.
            description_kind: plain
            required: true
        description: Fleet related configuration. Fleets are a Google Cloud concept for logically organizing clusters, letting you use and manage multi-cluster capabilities and apply consistent policies across your systems.
        description_kind: plain
      min_items: 1
      max_items: 1
    maintenance_policy:
      nesting_mode: list
      block:
        block_types:
          maintenance_exclusions:
            nesting_mode: list
            block:
              attributes:
                id:
                  type: string
                  description: A unique (per cluster) id for the window.
                  description_kind: plain
                  optional: true
                  computed: true
              block_types:
                window:
                  nesting_mode: list
                  block:
                    attributes:
                      end_time:
                        type: string
                        description: The time that the window ends. The end time must take place after the start time.
                        description_kind: plain
                        optional: true
                        computed: true
                      start_time:
                        type: string
                        description: The time that the window first starts.
                        description_kind: plain
                        optional: true
                        computed: true
                    description: Represents an arbitrary window of time.
                    description_kind: plain
                  max_items: 1
              description: Exclusions to automatic maintenance. Non-emergency maintenance should not occur in these windows. Each exclusion has a unique name and may be active or expired. The max number of maintenance exclusions allowed at a given time is 3.
              description_kind: plain
          window:
            nesting_mode: list
            block:
              block_types:
                recurring_window:
                  nesting_mode: list
                  block:
                    attributes:
                      recurrence:
                        type: string
                        description: An RRULE (https://tools.ietf.org/html/rfc5545#section-3.8.5.3) for how this window recurs. They go on for the span of time between the start and end time.
                        description_kind: plain
                        optional: true
                        computed: true
                    block_types:
                      window:
                        nesting_mode: list
                        block:
                          attributes:
                            end_time:
                              type: string
                              description: The time that the window ends. The end time must take place after the start time.
                              description_kind: plain
                              optional: true
                              computed: true
                            start_time:
                              type: string
                              description: The time that the window first starts.
                              description_kind: plain
                              optional: true
                              computed: true
                          description: Represents an arbitrary window of time.
                          description_kind: plain
                        max_items: 1
                    description: Represents an arbitrary window of time that recurs.
                    description_kind: plain
                  min_items: 1
                  max_items: 1
              description: Specifies the maintenance window in which maintenance may be performed.
              description_kind: plain
            min_items: 1
            max_items: 1
        description: Cluster-wide maintenance policy configuration.
        description_kind: plain
      max_items: 1
    networking:
      nesting_mode: list
      block:
        attributes:
          cluster_ipv4_cidr_blocks:
            type:
            - list
            - string
            description: All pods in the cluster are assigned an RFC1918 IPv4 address from these blocks. Only a single block is supported. This field cannot be changed after creation.
            description_kind: plain
            required: true
          cluster_ipv6_cidr_blocks:
            type:
            - list
            - string
            description: If specified, dual stack mode is enabled and all pods in the cluster are assigned an IPv6 address from these blocks alongside from an IPv4 address. Only a single block is supported. This field cannot be changed after creation.
            description_kind: plain
            optional: true
          network_type:
            type: string
            description: IP addressing type of this cluster i.e. SINGLESTACK_V4 vs DUALSTACK_V4_V6.
            description_kind: plain
            computed: true
          services_ipv4_cidr_blocks:
            type:
            - list
            - string
            description: All services in the cluster are assigned an RFC1918 IPv4 address from these blocks. Only a single block is supported. This field cannot be changed after creation.
            description_kind: plain
            required: true
          services_ipv6_cidr_blocks:
            type:
            - list
            - string
            description: If specified, dual stack mode is enabled and all services in the cluster are assigned an IPv6 address from these blocks alongside from an IPv4 address. Only a single block is supported. This field cannot be changed after creation.
            description_kind: plain
            optional: true
        description: Fleet related configuration. Fleets are a Google Cloud concept for logically organizing clusters, letting you use and manage multi-cluster capabilities and apply consistent policies across your systems.
        description_kind: plain
      min_items: 1
      max_items: 1
    system_addons_config:
      nesting_mode: list
      block:
        block_types:
          ingress:
            nesting_mode: list
            block:
              attributes:
                disabled:
                  type: bool
                  description: Whether Ingress is disabled.
                  description_kind: plain
                  optional: true
                  computed: true
                ipv4_vip:
                  type: string
                  description: Ingress VIP.
                  description_kind: plain
                  optional: true
                  computed: true
              description: Config for the Ingress add-on which allows customers to create an Ingress object to manage external access to the servers in a cluster. The add-on consists of istiod and istio-ingress.
              description_kind: plain
            max_items: 1
        description: Config that customers are allowed to define for GDCE system add-ons.
        description_kind: plain
      max_items: 1
    timeouts:
      nesting_mode: single
      block:
        attributes:
          create:
            type: string
            description_kind: plain
            optional: true
          delete:
            type: string
            description_kind: plain
            optional: true
          update:
            type: string
            description_kind: plain
            optional: true
        description_kind: plain
  description_kind: plain
