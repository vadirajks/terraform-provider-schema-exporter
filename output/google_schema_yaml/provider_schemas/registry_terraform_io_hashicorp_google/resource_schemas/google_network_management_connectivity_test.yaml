version: 0
block:
  attributes:
    bypass_firewall_checks:
      type: bool
      description: Whether the analysis should skip firewall checking. Default value is false.
      description_kind: plain
      optional: true
    description:
      type: string
      description: The user-supplied description of the Connectivity Test. Maximum of 512 characters.
      description_kind: plain
      optional: true
    effective_labels:
      type:
      - map
      - string
      description: All of labels (key/value pairs) present on the resource in GCP, including the labels configured through Terraform, other clients and services.
      description_kind: plain
      computed: true
    id:
      type: string
      description_kind: plain
      optional: true
      computed: true
    labels:
      type:
      - map
      - string
      description: 'Resource labels to represent user-provided metadata. **Note**: This field is non-authoritative, and will only manage the labels present in your configuration. Please refer to the field ''effective_labels'' for all of the labels present on the resource.'
      description_kind: plain
      optional: true
    name:
      type: string
      description: Unique name for the connectivity test.
      description_kind: plain
      required: true
    project:
      type: string
      description_kind: plain
      optional: true
      computed: true
    protocol:
      type: string
      description: IP Protocol of the test. When not provided, "TCP" is assumed.
      description_kind: plain
      optional: true
    related_projects:
      type:
      - list
      - string
      description: Other projects that may be relevant for reachability analysis. This is applicable to scenarios where a test can cross project boundaries.
      description_kind: plain
      optional: true
    round_trip:
      type: bool
      description: Whether run analysis for the return path from destination to source. Default value is false.
      description_kind: plain
      optional: true
    terraform_labels:
      type:
      - map
      - string
      description: The combination of labels configured directly on the resource and default labels configured on the provider.
      description_kind: plain
      computed: true
  block_types:
    destination:
      nesting_mode: list
      block:
        attributes:
          cloud_sql_instance:
            type: string
            description: A Cloud SQL instance URI.
            description_kind: plain
            optional: true
          forwarding_rule:
            type: string
            description: Forwarding rule URI. Forwarding rules are frontends for load balancers, PSC endpoints, and Protocol Forwarding.
            description_kind: plain
            optional: true
          fqdn:
            type: string
            description: A DNS endpoint of Google Kubernetes Engine cluster control plane. Requires gke_master_cluster to be set, can't be used simultaneoulsly with ip_address or network. Applicable only to destination endpoint.
            description_kind: plain
            optional: true
          gke_master_cluster:
            type: string
            description: A cluster URI for Google Kubernetes Engine cluster control plane.
            description_kind: plain
            optional: true
          instance:
            type: string
            description: A Compute Engine instance URI.
            description_kind: plain
            optional: true
          ip_address:
            type: string
            description: The IP address of the endpoint, which can be an external or internal IP.
            description_kind: plain
            optional: true
          network:
            type: string
            description: A VPC network URI.
            description_kind: plain
            optional: true
          port:
            type: number
            description: The IP protocol port of the endpoint. Only applicable when protocol is TCP or UDP.
            description_kind: plain
            optional: true
          project_id:
            type: string
            description: 'Project ID where the endpoint is located. The project ID can be derived from the URI if you provide a endpoint or network URI. The following are two cases where you may need to provide the project ID: 1. Only the IP address is specified, and the IP address is within a Google Cloud project. 2. When you are using Shared VPC and the IP address that you provide is from the service project. In this case, the network that the IP address resides in is defined in the host project.'
            description_kind: plain
            optional: true
          redis_cluster:
            type: string
            description: A Redis Cluster URI.
            description_kind: plain
            optional: true
          redis_instance:
            type: string
            description: A Redis Instance URI.
            description_kind: plain
            optional: true
        description: Required. Destination specification of the Connectivity Test. You can use a combination of destination IP address, URI of a supported endpoint, project ID, or VPC network to identify the destination location. Reachability analysis proceeds even if the destination location is ambiguous. However, the test result might include endpoints or use a destination that you don't intend to test.
        description_kind: plain
      min_items: 1
      max_items: 1
    source:
      nesting_mode: list
      block:
        attributes:
          cloud_sql_instance:
            type: string
            description: A Cloud SQL instance URI.
            description_kind: plain
            optional: true
          gke_master_cluster:
            type: string
            description: A cluster URI for Google Kubernetes Engine cluster control plane.
            description_kind: plain
            optional: true
          instance:
            type: string
            description: A Compute Engine instance URI.
            description_kind: plain
            optional: true
          ip_address:
            type: string
            description: The IP address of the endpoint, which can be an external or internal IP.
            description_kind: plain
            optional: true
          network:
            type: string
            description: A VPC network URI.
            description_kind: plain
            optional: true
          network_type:
            type: string
            description: 'Type of the network where the endpoint is located. Possible values: ["GCP_NETWORK", "NON_GCP_NETWORK"]'
            description_kind: plain
            optional: true
          port:
            type: number
            description: The IP protocol port of the endpoint. Only applicable when protocol is TCP or UDP.
            description_kind: plain
            optional: true
          project_id:
            type: string
            description: 'Project ID where the endpoint is located. The project ID can be derived from the URI if you provide a endpoint or network URI. The following are two cases where you may need to provide the project ID: 1. Only the IP address is specified, and the IP address is within a Google Cloud project. 2. When you are using Shared VPC and the IP address that you provide is from the service project. In this case, the network that the IP address resides in is defined in the host project.'
            description_kind: plain
            optional: true
        block_types:
          app_engine_version:
            nesting_mode: list
            block:
              attributes:
                uri:
                  type: string
                  description: An App Engine service version name.
                  description_kind: plain
                  optional: true
              description: An App Engine service version.
              description_kind: plain
            max_items: 1
          cloud_function:
            nesting_mode: list
            block:
              attributes:
                uri:
                  type: string
                  description: A Cloud Function name.
                  description_kind: plain
                  optional: true
              description: A Cloud Function.
              description_kind: plain
            max_items: 1
          cloud_run_revision:
            nesting_mode: list
            block:
              attributes:
                uri:
                  type: string
                  description: A Cloud Run revision URI.
                  description_kind: plain
                  optional: true
              description: A Cloud Run revision.
              description_kind: plain
            max_items: 1
        description: Required. Source specification of the Connectivity Test. You can use a combination of source IP address, URI of a supported endpoint, project ID, or VPC network to identify the source location. Reachability analysis might proceed even if the source location is ambiguous. However, the test result might include endpoints or use a source that you don't intend to test.
        description_kind: plain
      min_items: 1
      max_items: 1
    timeouts:
      nesting_mode: single
      block:
        attributes:
          create:
            type: string
            description_kind: plain
            optional: true
          delete:
            type: string
            description_kind: plain
            optional: true
          update:
            type: string
            description_kind: plain
            optional: true
        description_kind: plain
  description_kind: plain
