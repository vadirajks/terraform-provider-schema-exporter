version: 0
block:
  attributes:
    assistant_id:
      type: string
      description: The unique id of the assistant.
      description_kind: plain
      required: true
    collection_id:
      type: string
      description: The unique id of the collection.
      description_kind: plain
      required: true
    description:
      type: string
      description: Description for additional information. Expected to be shown on the configuration UI, not to the users of the assistant.
      description_kind: plain
      optional: true
    display_name:
      type: string
      description: The assistant display name. It must be a UTF-8 encoded string with a length limit of 128 characters.
      description_kind: plain
      required: true
    engine_id:
      type: string
      description: The unique id of the engine.
      description_kind: plain
      required: true
    id:
      type: string
      description_kind: plain
      optional: true
      computed: true
    location:
      type: string
      description: The geographic location where the data store should reside. The value can only be one of "global", "us" and "eu".
      description_kind: plain
      required: true
    name:
      type: string
      description: 'Resource name of the assistant. Format: ''projects/{project}/locations/{location}/collections/{collection}/engines/{engine}/assistants/{assistant}'' It must be a UTF-8 encoded string with a length limit of 1024 characters.'
      description_kind: plain
      computed: true
    project:
      type: string
      description_kind: plain
      optional: true
      computed: true
    web_grounding_type:
      type: string
      description: 'The type of web grounding to use. The supported values: ''WEB_GROUNDING_TYPE_DISABLED'', ''WEB_GROUNDING_TYPE_GOOGLE_SEARCH'', ''WEB_GROUNDING_TYPE_ENTERPRISE_WEB_SEARCH''.'
      description_kind: plain
      optional: true
  block_types:
    customer_policy:
      nesting_mode: list
      block:
        block_types:
          banned_phrases:
            nesting_mode: list
            block:
              attributes:
                ignore_diacritics:
                  type: bool
                  description: "If true, diacritical marks (e.g., accents, umlauts) are ignored when matching banned phrases. For example, \"cafe\" would match \"caf\xE9\"."
                  description_kind: plain
                  optional: true
                match_type:
                  type: string
                  description: 'Match type for the banned phrase. The supported values: ''SIMPLE_STRING_MATCH'', ''WORD_BOUNDARY_STRING_MATCH''.'
                  description_kind: plain
                  optional: true
                phrase:
                  type: string
                  description: The raw string content to be banned.
                  description_kind: plain
                  required: true
              description: List of banned phrases.
              description_kind: plain
          model_armor_config:
            nesting_mode: list
            block:
              attributes:
                failure_mode:
                  type: string
                  description: 'Defines the failure mode for Model Armor sanitization. The supported values: ''FAIL_OPEN'', ''FAIL_CLOSED''.'
                  description_kind: plain
                  optional: true
                response_template:
                  type: string
                  description: 'The resource name of the Model Armor template for sanitizing assistant responses. Format: ''projects/{project}/locations/{location}/templates/{template_id}'' If not specified, no sanitization will be applied to the assistant response.'
                  description_kind: plain
                  required: true
                user_prompt_template:
                  type: string
                  description: 'The resource name of the Model Armor template for sanitizing user prompts. Format: ''projects/{project}/locations/{location}/templates/{template_id}'' If not specified, no sanitization will be applied to the user prompt.'
                  description_kind: plain
                  required: true
              description: Model Armor configuration to be used for sanitizing user prompts and assistant responses.
              description_kind: plain
            max_items: 1
        description: Customer policy for the assistant.
        description_kind: plain
      max_items: 1
    generation_config:
      nesting_mode: list
      block:
        attributes:
          default_language:
            type: string
            description: The default language to use for the generation of the assistant response. Use an ISO 639-1 language code such as 'en'. If not specified, the language will be automatically detected.
            description_kind: plain
            optional: true
        block_types:
          system_instruction:
            nesting_mode: list
            block:
              attributes:
                additional_system_instruction:
                  type: string
                  description: Additional system instruction that will be added to the default system instruction.
                  description_kind: plain
                  optional: true
              description: System instruction, also known as the prompt preamble for LLM calls. See also https://cloud.google.com/vertex-ai/generative-ai/docs/learn/prompts/system-instructions
              description_kind: plain
            max_items: 1
        description: Configuration for the generation of the assistant response.
        description_kind: plain
      max_items: 1
    timeouts:
      nesting_mode: single
      block:
        attributes:
          create:
            type: string
            description_kind: plain
            optional: true
          delete:
            type: string
            description_kind: plain
            optional: true
          update:
            type: string
            description_kind: plain
            optional: true
        description_kind: plain
  description_kind: plain
