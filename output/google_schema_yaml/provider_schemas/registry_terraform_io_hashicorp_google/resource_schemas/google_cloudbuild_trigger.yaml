version: 2
block:
  attributes:
    create_time:
      type: string
      description: Time when the trigger was created.
      description_kind: plain
      computed: true
    description:
      type: string
      description: Human-readable description of the trigger.
      description_kind: plain
      optional: true
    disabled:
      type: bool
      description: Whether the trigger is disabled or not. If true, the trigger will never result in a build.
      description_kind: plain
      optional: true
    filename:
      type: string
      description: Path, from the source root, to a file whose contents is used for the template. Either a filename or build template must be provided. Set this only when using trigger_template or github. When using Pub/Sub, Webhook or Manual set the file name using git_file_source instead.
      description_kind: plain
      optional: true
    filter:
      type: string
      description: A Common Expression Language string. Used only with Pub/Sub and Webhook.
      description_kind: plain
      optional: true
    id:
      type: string
      description_kind: plain
      optional: true
      computed: true
    ignored_files:
      type:
      - list
      - string
      description: ignoredFiles and includedFiles are file glob matches using https://golang.org/pkg/path/filepath/#Match extended with support for '**'. If ignoredFiles and changed files are both empty, then they are not used to determine whether or not to trigger a build. If ignoredFiles is not empty, then we ignore any files that match any of the ignored_file globs. If the change has no files that are outside of the ignoredFiles globs, then we do not trigger a build.
      description_kind: plain
      optional: true
    include_build_logs:
      type: string
      description: 'Build logs will be sent back to GitHub as part of the checkrun result.  Values can be INCLUDE_BUILD_LOGS_UNSPECIFIED or INCLUDE_BUILD_LOGS_WITH_STATUS Possible values: ["INCLUDE_BUILD_LOGS_UNSPECIFIED", "INCLUDE_BUILD_LOGS_WITH_STATUS"]'
      description_kind: plain
      optional: true
    included_files:
      type:
      - list
      - string
      description: ignoredFiles and includedFiles are file glob matches using https://golang.org/pkg/path/filepath/#Match extended with support for '**'. If any of the files altered in the commit pass the ignoredFiles filter and includedFiles is empty, then as far as this filter is concerned, we should trigger the build. If any of the files altered in the commit pass the ignoredFiles filter and includedFiles is not empty, then we make sure that at least one of those files matches a includedFiles glob. If not, then we do not trigger a build.
      description_kind: plain
      optional: true
    location:
      type: string
      description: The [Cloud Build location](https://cloud.google.com/build/docs/locations) for the trigger. If not specified, "global" is used.
      description_kind: plain
      optional: true
    name:
      type: string
      description: Name of the trigger. Must be unique within the project.
      description_kind: plain
      optional: true
      computed: true
    project:
      type: string
      description_kind: plain
      optional: true
      computed: true
    service_account:
      type: string
      description: 'The service account used for all user-controlled operations including triggers.patch, triggers.run, builds.create, and builds.cancel. If no service account is set, then the standard Cloud Build service account ([PROJECT_NUM]@system.gserviceaccount.com) will be used instead. Format: projects/{PROJECT_ID}/serviceAccounts/{ACCOUNT_ID_OR_EMAIL}'
      description_kind: plain
      optional: true
    substitutions:
      type:
      - map
      - string
      description: Substitutions data for Build resource.
      description_kind: plain
      optional: true
    tags:
      type:
      - list
      - string
      description: Tags for annotation of a BuildTrigger
      description_kind: plain
      optional: true
    trigger_id:
      type: string
      description: The unique identifier for the trigger.
      description_kind: plain
      computed: true
  block_types:
    approval_config:
      nesting_mode: list
      block:
        attributes:
          approval_required:
            type: bool
            description: Whether or not approval is needed. If this is set on a build, it will become pending when run, and will need to be explicitly approved to start.
            description_kind: plain
            optional: true
        description: Configuration for manual approval to start a build invocation of this BuildTrigger. Builds created by this trigger will require approval before they execute. Any user with a Cloud Build Approver role for the project can approve a build.
        description_kind: plain
      max_items: 1
    bitbucket_server_trigger_config:
      nesting_mode: list
      block:
        attributes:
          bitbucket_server_config_resource:
            type: string
            description: The Bitbucket server config resource that this trigger config maps to.
            description_kind: plain
            required: true
          project_key:
            type: string
            description: 'Key of the project that the repo is in. For example: The key for https://mybitbucket.server/projects/TEST/repos/test-repo is "TEST".'
            description_kind: plain
            required: true
          repo_slug:
            type: string
            description: Slug of the repository. A repository slug is a URL-friendly version of a repository name, automatically generated by Bitbucket for use in the URL. For example, if the repository name is 'test repo', in the URL it would become 'test-repo' as in https://mybitbucket.server/projects/TEST/repos/test-repo.
            description_kind: plain
            required: true
        block_types:
          pull_request:
            nesting_mode: list
            block:
              attributes:
                branch:
                  type: string
                  description: Regex of branches to match. The syntax of the regular expressions accepted is the syntax accepted by RE2 and described at https://github.com/google/re2/wiki/Syntax
                  description_kind: plain
                  required: true
                comment_control:
                  type: string
                  description: 'Configure builds to run whether a repository owner or collaborator need to comment /gcbrun. Possible values: ["COMMENTS_DISABLED", "COMMENTS_ENABLED", "COMMENTS_ENABLED_FOR_EXTERNAL_CONTRIBUTORS_ONLY"]'
                  description_kind: plain
                  optional: true
                invert_regex:
                  type: bool
                  description: If true, branches that do NOT match the git_ref will trigger a build.
                  description_kind: plain
                  optional: true
              description: Filter to match changes in pull requests.
              description_kind: plain
            max_items: 1
          push:
            nesting_mode: list
            block:
              attributes:
                branch:
                  type: string
                  description: Regex of branches to match.  Specify only one of branch or tag.
                  description_kind: plain
                  optional: true
                invert_regex:
                  type: bool
                  description: When true, only trigger a build if the revision regex does NOT match the gitRef regex.
                  description_kind: plain
                  optional: true
                tag:
                  type: string
                  description: Regex of tags to match.  Specify only one of branch or tag.
                  description_kind: plain
                  optional: true
              description: Filter to match changes in refs like branches, tags.
              description_kind: plain
            max_items: 1
        description: BitbucketServerTriggerConfig describes the configuration of a trigger that creates a build whenever a Bitbucket Server event is received.
        description_kind: plain
      max_items: 1
    build:
      nesting_mode: list
      block:
        attributes:
          images:
            type:
            - list
            - string
            description: A list of images to be pushed upon the successful completion of all build steps. The images are pushed using the builder service account's credentials. The digests of the pushed images will be stored in the Build resource's results field. If any of the images fail to be pushed, the build status is marked FAILURE.
            description_kind: plain
            optional: true
          logs_bucket:
            type: string
            description: Google Cloud Storage bucket where logs should be written. Logs file names will be of the format ${logsBucket}/log-${build_id}.txt.
            description_kind: plain
            optional: true
          queue_ttl:
            type: string
            description: 'TTL in queue for this build. If provided and the build is enqueued longer than this value, the build will expire and the build status will be EXPIRED. The TTL starts ticking from createTime. A duration in seconds with up to nine fractional digits, terminated by ''s''. Example: "3.5s".'
            description_kind: plain
            optional: true
          substitutions:
            type:
            - map
            - string
            description: Substitutions data for Build resource.
            description_kind: plain
            optional: true
          tags:
            type:
            - list
            - string
            description: Tags for annotation of a Build. These are not docker tags.
            description_kind: plain
            optional: true
          timeout:
            type: string
            description: Amount of time that this build should be allowed to run, to second granularity. If this amount of time elapses, work on the build will cease and the build status will be TIMEOUT. This timeout must be equal to or greater than the sum of the timeouts for build steps within the build. The expected format is the number of seconds followed by s. Default time is ten minutes (600s).
            description_kind: plain
            optional: true
        block_types:
          artifacts:
            nesting_mode: list
            block:
              attributes:
                images:
                  type:
                  - list
                  - string
                  description: A list of images to be pushed upon the successful completion of all build steps. The images will be pushed using the builder service account's credentials. The digests of the pushed images will be stored in the Build resource's results field. If any of the images fail to be pushed, the build is marked FAILURE.
                  description_kind: plain
                  optional: true
              block_types:
                maven_artifacts:
                  nesting_mode: list
                  block:
                    attributes:
                      artifact_id:
                        type: string
                        description: Maven artifactId value used when uploading the artifact to Artifact Registry.
                        description_kind: plain
                        optional: true
                      group_id:
                        type: string
                        description: Maven groupId value used when uploading the artifact to Artifact Registry.
                        description_kind: plain
                        optional: true
                      path:
                        type: string
                        description: Path to an artifact in the build's workspace to be uploaded to Artifact Registry. This can be either an absolute path, e.g. /workspace/my-app/target/my-app-1.0.SNAPSHOT.jar or a relative path from /workspace, e.g. my-app/target/my-app-1.0.SNAPSHOT.jar.
                        description_kind: plain
                        optional: true
                      repository:
                        type: string
                        description: Artifact Registry repository, in the form "https://$REGION-maven.pkg.dev/$PROJECT/$REPOSITORY" Artifact in the workspace specified by path will be uploaded to Artifact Registry with this location as a prefix.
                        description_kind: plain
                        optional: true
                      version:
                        type: string
                        description: Maven version value used when uploading the artifact to Artifact Registry.
                        description_kind: plain
                        optional: true
                    description: A Maven artifact to upload to Artifact Registry upon successful completion of all build steps. The location and generation of the uploaded objects will be stored in the Build resource's results field. If any objects fail to be pushed, the build is marked FAILURE.
                    description_kind: plain
                npm_packages:
                  nesting_mode: list
                  block:
                    attributes:
                      package_path:
                        type: string
                        description: Path to the package.json. e.g. workspace/path/to/package
                        description_kind: plain
                        optional: true
                      repository:
                        type: string
                        description: Artifact Registry repository, in the form "https://$REGION-npm.pkg.dev/$PROJECT/$REPOSITORY" Npm package in the workspace specified by path will be zipped and uploaded to Artifact Registry with this location as a prefix.
                        description_kind: plain
                        optional: true
                    description: Npm package to upload to Artifact Registry upon successful completion of all build steps. The location and generation of the uploaded objects will be stored in the Build resource's results field. If any objects fail to be pushed, the build is marked FAILURE.
                    description_kind: plain
                objects:
                  nesting_mode: list
                  block:
                    attributes:
                      location:
                        type: string
                        description: Cloud Storage bucket and optional object path, in the form "gs://bucket/path/to/somewhere/". Files in the workspace matching any path pattern will be uploaded to Cloud Storage with this location as a prefix.
                        description_kind: plain
                        optional: true
                      paths:
                        type:
                        - list
                        - string
                        description: Path globs used to match files in the build's workspace.
                        description_kind: plain
                        optional: true
                      timing:
                        type:
                        - list
                        - - object
                          - end_time: string
                            start_time: string
                        description: Output only. Stores timing information for pushing all artifact objects.
                        description_kind: plain
                        computed: true
                    description: A list of objects to be uploaded to Cloud Storage upon successful completion of all build steps. Files in the workspace matching specified paths globs will be uploaded to the Cloud Storage location using the builder service account's credentials. The location and generation of the uploaded objects will be stored in the Build resource's results field. If any objects fail to be pushed, the build is marked FAILURE.
                    description_kind: plain
                  max_items: 1
                python_packages:
                  nesting_mode: list
                  block:
                    attributes:
                      paths:
                        type:
                        - list
                        - string
                        description: Path globs used to match files in the build's workspace. For Python/ Twine, this is usually dist/*, and sometimes additionally an .asc file.
                        description_kind: plain
                        optional: true
                      repository:
                        type: string
                        description: Artifact Registry repository, in the form "https://$REGION-python.pkg.dev/$PROJECT/$REPOSITORY" Files in the workspace matching any path pattern will be uploaded to Artifact Registry with this location as a prefix.
                        description_kind: plain
                        optional: true
                    description: Python package to upload to Artifact Registry upon successful completion of all build steps. A package can encapsulate multiple objects to be uploaded to a single repository. The location and generation of the uploaded objects will be stored in the Build resource's results field. If any objects fail to be pushed, the build is marked FAILURE.
                    description_kind: plain
              description: Artifacts produced by the build that should be uploaded upon successful completion of all build steps.
              description_kind: plain
            max_items: 1
          available_secrets:
            nesting_mode: list
            block:
              block_types:
                secret_manager:
                  nesting_mode: list
                  block:
                    attributes:
                      env:
                        type: string
                        description: Environment variable name to associate with the secret. Secret environment variables must be unique across all of a build's secrets, and must be used by at least one build step.
                        description_kind: plain
                        required: true
                      version_name:
                        type: string
                        description: 'Resource name of the SecretVersion. In format: projects/*/secrets/*/versions/*'
                        description_kind: plain
                        required: true
                    description: Pairs a secret environment variable with a SecretVersion in Secret Manager.
                    description_kind: plain
                  min_items: 1
              description: Secrets and secret environment variables.
              description_kind: plain
            max_items: 1
          options:
            nesting_mode: list
            block:
              attributes:
                disk_size_gb:
                  type: number
                  description: Requested disk size for the VM that runs the build. Note that this is NOT "disk free"; some of the space will be used by the operating system and build utilities. Also note that this is the minimum disk size that will be allocated for the build -- the build may run with a larger disk than requested. At present, the maximum disk size is 1000GB; builds that request more than the maximum are rejected with an error.
                  description_kind: plain
                  optional: true
                dynamic_substitutions:
                  type: bool
                  description: Option to specify whether or not to apply bash style string operations to the substitutions. NOTE this is always enabled for triggered builds and cannot be overridden in the build configuration file.
                  description_kind: plain
                  optional: true
                env:
                  type:
                  - list
                  - string
                  description: A list of global environment variable definitions that will exist for all build steps in this build. If a variable is defined in both globally and in a build step, the variable will use the build step value. The elements are of the form "KEY=VALUE" for the environment variable "KEY" being given the value "VALUE".
                  description_kind: plain
                  optional: true
                log_streaming_option:
                  type: string
                  description: 'Option to define build log streaming behavior to Google Cloud Storage. Possible values: ["STREAM_DEFAULT", "STREAM_ON", "STREAM_OFF"]'
                  description_kind: plain
                  optional: true
                logging:
                  type: string
                  description: 'Option to specify the logging mode, which determines if and where build logs are stored. Possible values: ["LOGGING_UNSPECIFIED", "LEGACY", "GCS_ONLY", "STACKDRIVER_ONLY", "CLOUD_LOGGING_ONLY", "NONE"]'
                  description_kind: plain
                  optional: true
                machine_type:
                  type: string
                  description: Compute Engine machine type on which to run the build.
                  description_kind: plain
                  optional: true
                requested_verify_option:
                  type: string
                  description: 'Requested verifiability options. Possible values: ["NOT_VERIFIED", "VERIFIED"]'
                  description_kind: plain
                  optional: true
                secret_env:
                  type:
                  - list
                  - string
                  description: A list of global environment variables, which are encrypted using a Cloud Key Management Service crypto key. These values must be specified in the build's Secret. These variables will be available to all build steps in this build.
                  description_kind: plain
                  optional: true
                source_provenance_hash:
                  type:
                  - list
                  - string
                  description: 'Requested hash for SourceProvenance. Possible values: ["NONE", "SHA256", "MD5"]'
                  description_kind: plain
                  optional: true
                substitution_option:
                  type: string
                  description: 'Option to specify behavior when there is an error in the substitution checks. NOTE this is always set to ALLOW_LOOSE for triggered builds and cannot be overridden in the build configuration file. Possible values: ["MUST_MATCH", "ALLOW_LOOSE"]'
                  description_kind: plain
                  optional: true
                worker_pool:
                  type: string
                  description: Option to specify a WorkerPool for the build. Format projects/{project}/workerPools/{workerPool} This field is experimental.
                  description_kind: plain
                  optional: true
              block_types:
                volumes:
                  nesting_mode: list
                  block:
                    attributes:
                      name:
                        type: string
                        description: Name of the volume to mount. Volume names must be unique per build step and must be valid names for Docker volumes. Each named volume must be used by at least two build steps.
                        description_kind: plain
                        optional: true
                      path:
                        type: string
                        description: Path at which to mount the volume. Paths must be absolute and cannot conflict with other volume paths on the same build step or with certain reserved volume paths.
                        description_kind: plain
                        optional: true
                    description: Global list of volumes to mount for ALL build steps Each volume is created as an empty volume prior to starting the build process. Upon completion of the build, volumes and their contents are discarded. Global volume names and paths cannot conflict with the volumes defined a build step. Using a global volume in a build with only one step is not valid as it is indicative of a build request with an incorrect configuration.
                    description_kind: plain
              description: Special options for this build.
              description_kind: plain
            max_items: 1
          secret:
            nesting_mode: list
            block:
              attributes:
                kms_key_name:
                  type: string
                  description: Cloud KMS key name to use to decrypt these envs.
                  description_kind: plain
                  required: true
                secret_env:
                  type:
                  - map
                  - string
                  description: Map of environment variable name to its encrypted value. Secret environment variables must be unique across all of a build's secrets, and must be used by at least one build step. Values can be at most 64 KB in size. There can be at most 100 secret values across all of a build's secrets.
                  description_kind: plain
                  optional: true
              description: Secrets to decrypt using Cloud Key Management Service.
              description_kind: plain
          source:
            nesting_mode: list
            block:
              block_types:
                repo_source:
                  nesting_mode: list
                  block:
                    attributes:
                      branch_name:
                        type: string
                        description: Regex matching branches to build. Exactly one a of branch name, tag, or commit SHA must be provided. The syntax of the regular expressions accepted is the syntax accepted by RE2 and described at https://github.com/google/re2/wiki/Syntax
                        description_kind: plain
                        optional: true
                      commit_sha:
                        type: string
                        description: Explicit commit SHA to build. Exactly one a of branch name, tag, or commit SHA must be provided.
                        description_kind: plain
                        optional: true
                      dir:
                        type: string
                        description: Directory, relative to the source root, in which to run the build. This must be a relative path. If a step's dir is specified and is an absolute path, this value is ignored for that step's execution.
                        description_kind: plain
                        optional: true
                      invert_regex:
                        type: bool
                        description: Only trigger a build if the revision regex does NOT match the revision regex.
                        description_kind: plain
                        optional: true
                      project_id:
                        type: string
                        description: ID of the project that owns the Cloud Source Repository. If omitted, the project ID requesting the build is assumed.
                        description_kind: plain
                        optional: true
                      repo_name:
                        type: string
                        description: Name of the Cloud Source Repository.
                        description_kind: plain
                        required: true
                      substitutions:
                        type:
                        - map
                        - string
                        description: Substitutions to use in a triggered build. Should only be used with triggers.run
                        description_kind: plain
                        optional: true
                      tag_name:
                        type: string
                        description: Regex matching tags to build. Exactly one a of branch name, tag, or commit SHA must be provided. The syntax of the regular expressions accepted is the syntax accepted by RE2 and described at https://github.com/google/re2/wiki/Syntax
                        description_kind: plain
                        optional: true
                    description: Location of the source in a Google Cloud Source Repository.
                    description_kind: plain
                  max_items: 1
                storage_source:
                  nesting_mode: list
                  block:
                    attributes:
                      bucket:
                        type: string
                        description: Google Cloud Storage bucket containing the source.
                        description_kind: plain
                        required: true
                      generation:
                        type: string
                        description: Google Cloud Storage generation for the object. If the generation is omitted, the latest generation will be used
                        description_kind: plain
                        optional: true
                      object:
                        type: string
                        description: Google Cloud Storage object containing the source. This object must be a gzipped archive file (.tar.gz) containing source to build.
                        description_kind: plain
                        required: true
                    description: Location of the source in an archive file in Google Cloud Storage.
                    description_kind: plain
                  max_items: 1
              description: The location of the source files to build. One of 'storageSource' or 'repoSource' must be provided.
              description_kind: plain
            max_items: 1
          step:
            nesting_mode: list
            block:
              attributes:
                allow_exit_codes:
                  type:
                  - list
                  - number
                  description: Allow this build step to fail without failing the entire build if and only if the exit code is one of the specified codes. If 'allowFailure' is also specified, this field will take precedence.
                  description_kind: plain
                  optional: true
                allow_failure:
                  type: bool
                  description: Allow this build step to fail without failing the entire build. If false, the entire build will fail if this step fails. Otherwise, the build will succeed, but this step will still have a failure status. Error information will be reported in the 'failureDetail' field. 'allowExitCodes' takes precedence over this field.
                  description_kind: plain
                  optional: true
                args:
                  type:
                  - list
                  - string
                  description: A list of arguments that will be presented to the step when it is started. If the image used to run the step's container has an entrypoint, the args are used as arguments to that entrypoint. If the image does not define an entrypoint, the first element in args is used as the entrypoint, and the remainder will be used as arguments.
                  description_kind: plain
                  optional: true
                dir:
                  type: string
                  description: Working directory to use when running this step's container. If this value is a relative path, it is relative to the build's working directory. If this value is absolute, it may be outside the build's working directory, in which case the contents of the path may not be persisted across build step executions, unless a 'volume' for that path is specified. If the build specifies a 'RepoSource' with 'dir' and a step with a 'dir', which specifies an absolute path, the 'RepoSource' 'dir' is ignored for the step's execution.
                  description_kind: plain
                  optional: true
                entrypoint:
                  type: string
                  description: Entrypoint to be used instead of the build step image's default entrypoint. If unset, the image's default entrypoint is used
                  description_kind: plain
                  optional: true
                env:
                  type:
                  - list
                  - string
                  description: A list of environment variable definitions to be used when running a step. The elements are of the form "KEY=VALUE" for the environment variable "KEY" being given the value "VALUE".
                  description_kind: plain
                  optional: true
                id:
                  type: string
                  description: Unique identifier for this build step, used in 'wait_for' to reference this build step as a dependency.
                  description_kind: plain
                  optional: true
                name:
                  type: string
                  description: The name of the container image that will run this particular build step. If the image is available in the host's Docker daemon's cache, it will be run directly. If not, the host will attempt to pull the image first, using the builder service account's credentials if necessary. The Docker daemon's cache will already have the latest versions of all of the officially supported build steps (see https://github.com/GoogleCloudPlatform/cloud-builders for images and examples). The Docker daemon will also have cached many of the layers for some popular images, like "ubuntu", "debian", but they will be refreshed at the time you attempt to use them. If you built an image in a previous build step, it will be stored in the host's Docker daemon's cache and is available to use as the name for a later build step.
                  description_kind: plain
                  required: true
                script:
                  type: string
                  description: A shell script to be executed in the step. When script is provided, the user cannot specify the entrypoint or args.
                  description_kind: plain
                  optional: true
                secret_env:
                  type:
                  - list
                  - string
                  description: A list of environment variables which are encrypted using a Cloud Key Management Service crypto key. These values must be specified in the build's 'Secret'.
                  description_kind: plain
                  optional: true
                timeout:
                  type: string
                  description: Time limit for executing this build step. If not defined, the step has no time limit and will be allowed to continue to run until either it completes or the build itself times out.
                  description_kind: plain
                  optional: true
                timing:
                  type: string
                  description: Output only. Stores timing information for executing this build step.
                  description_kind: plain
                  optional: true
                wait_for:
                  type:
                  - list
                  - string
                  description: The ID(s) of the step(s) that this build step depends on. This build step will not start until all the build steps in 'wait_for' have completed successfully. If 'wait_for' is empty, this build step will start when all previous build steps in the 'Build.Steps' list have completed successfully.
                  description_kind: plain
                  optional: true
              block_types:
                volumes:
                  nesting_mode: list
                  block:
                    attributes:
                      name:
                        type: string
                        description: Name of the volume to mount. Volume names must be unique per build step and must be valid names for Docker volumes. Each named volume must be used by at least two build steps.
                        description_kind: plain
                        required: true
                      path:
                        type: string
                        description: Path at which to mount the volume. Paths must be absolute and cannot conflict with other volume paths on the same build step or with certain reserved volume paths.
                        description_kind: plain
                        required: true
                    description: List of volumes to mount into the build step. Each volume is created as an empty volume prior to execution of the build step. Upon completion of the build, volumes and their contents are discarded. Using a named volume in only one step is not valid as it is indicative of a build request with an incorrect configuration.
                    description_kind: plain
              description: The operations to be performed on the workspace.
              description_kind: plain
            min_items: 1
        description: Contents of the build template. Either a filename or build template must be provided.
        description_kind: plain
      max_items: 1
    developer_connect_event_config:
      nesting_mode: list
      block:
        attributes:
          git_repository_link:
            type: string
            description: The Developer Connect Git repository link, formatted as 'projects/*/locations/*/connections/*/gitRepositoryLink/*'.
            description_kind: plain
            required: true
          git_repository_link_type:
            type: string
            description: The type of DeveloperConnect GitRepositoryLink.
            description_kind: plain
            computed: true
        block_types:
          pull_request:
            nesting_mode: list
            block:
              attributes:
                branch:
                  type: string
                  description: Regex of branches to match.
                  description_kind: plain
                  optional: true
                comment_control:
                  type: string
                  description: 'Configure builds to run whether a repository owner or collaborator need to comment ''/gcbrun''. Possible values: ["COMMENTS_DISABLED", "COMMENTS_ENABLED", "COMMENTS_ENABLED_FOR_EXTERNAL_CONTRIBUTORS_ONLY"]'
                  description_kind: plain
                  optional: true
                invert_regex:
                  type: bool
                  description: If true, branches that do NOT match the git_ref will trigger a build.
                  description_kind: plain
                  optional: true
              description: Filter to match changes in pull requests.
              description_kind: plain
            max_items: 1
          push:
            nesting_mode: list
            block:
              attributes:
                branch:
                  type: string
                  description: Regex of branches to match.
                  description_kind: plain
                  optional: true
                invert_regex:
                  type: bool
                  description: If true, only trigger a build if the revision regex does NOT match the git_ref regex.
                  description_kind: plain
                  optional: true
                tag:
                  type: string
                  description: Regex of tags to match.
                  description_kind: plain
                  optional: true
              description: Filter to match changes in refs like branches and tags.
              description_kind: plain
            max_items: 1
        description: Configuration for triggers that respond to Developer Connect events.
        description_kind: plain
      max_items: 1
    git_file_source:
      nesting_mode: list
      block:
        attributes:
          bitbucket_server_config:
            type: string
            description: 'The full resource name of the bitbucket server config. Format: projects/{project}/locations/{location}/bitbucketServerConfigs/{id}.'
            description_kind: plain
            optional: true
          github_enterprise_config:
            type: string
            description: 'The full resource name of the github enterprise config. Format: projects/{project}/locations/{location}/githubEnterpriseConfigs/{id}. projects/{project}/githubEnterpriseConfigs/{id}.'
            description_kind: plain
            optional: true
          path:
            type: string
            description: The path of the file, with the repo root as the root of the path.
            description_kind: plain
            required: true
          repo_type:
            type: string
            description: 'The type of the repo, since it may not be explicit from the repo field (e.g from a URL). Values can be UNKNOWN, CLOUD_SOURCE_REPOSITORIES, GITHUB, BITBUCKET_SERVER Possible values: ["UNKNOWN", "CLOUD_SOURCE_REPOSITORIES", "GITHUB", "BITBUCKET_SERVER"]'
            description_kind: plain
            required: true
          repository:
            type: string
            description: The fully qualified resource name of the Repo API repository. The fully qualified resource name of the Repo API repository. If unspecified, the repo from which the trigger invocation originated is assumed to be the repo from which to read the specified path.
            description_kind: plain
            optional: true
          revision:
            type: string
            description: 'The branch, tag, arbitrary ref, or SHA version of the repo to use when resolving the filename (optional). This field respects the same syntax/resolution as described here: https://git-scm.com/docs/gitrevisions If unspecified, the revision from which the trigger invocation originated is assumed to be the revision from which to read the specified path.'
            description_kind: plain
            optional: true
          uri:
            type: string
            description: The URI of the repo (optional). If unspecified, the repo from which the trigger invocation originated is assumed to be the repo from which to read the specified path.
            description_kind: plain
            optional: true
        description: The file source describing the local or remote Build template.
        description_kind: plain
      max_items: 1
    github:
      nesting_mode: list
      block:
        attributes:
          enterprise_config_resource_name:
            type: string
            description: 'The resource name of the github enterprise config that should be applied to this installation. For example: "projects/{$projectId}/locations/{$locationId}/githubEnterpriseConfigs/{$configId}"'
            description_kind: plain
            optional: true
          name:
            type: string
            description: 'Name of the repository. For example: The name for https://github.com/googlecloudplatform/cloud-builders is "cloud-builders".'
            description_kind: plain
            optional: true
          owner:
            type: string
            description: 'Owner of the repository. For example: The owner for https://github.com/googlecloudplatform/cloud-builders is "googlecloudplatform".'
            description_kind: plain
            optional: true
        block_types:
          pull_request:
            nesting_mode: list
            block:
              attributes:
                branch:
                  type: string
                  description: Regex of branches to match.
                  description_kind: plain
                  required: true
                comment_control:
                  type: string
                  description: 'Whether to block builds on a "/gcbrun" comment from a repository owner or collaborator. Possible values: ["COMMENTS_DISABLED", "COMMENTS_ENABLED", "COMMENTS_ENABLED_FOR_EXTERNAL_CONTRIBUTORS_ONLY"]'
                  description_kind: plain
                  optional: true
                invert_regex:
                  type: bool
                  description: If true, branches that do NOT match the git_ref will trigger a build.
                  description_kind: plain
                  optional: true
              description: filter to match changes in pull requests. Specify only one of 'pull_request' or 'push'.
              description_kind: plain
            max_items: 1
          push:
            nesting_mode: list
            block:
              attributes:
                branch:
                  type: string
                  description: Regex of branches to match.  Specify only one of branch or tag.
                  description_kind: plain
                  optional: true
                invert_regex:
                  type: bool
                  description: When true, only trigger a build if the revision regex does NOT match the git_ref regex.
                  description_kind: plain
                  optional: true
                tag:
                  type: string
                  description: Regex of tags to match.  Specify only one of branch or tag.
                  description_kind: plain
                  optional: true
              description: filter to match changes in refs, like branches or tags. Specify only one of 'pull_request' or 'push'.
              description_kind: plain
            max_items: 1
        description: Describes the configuration of a trigger that creates a build whenever a GitHub event is received. One of 'trigger_template', 'github', 'pubsub_config' or 'webhook_config' must be provided.
        description_kind: plain
      max_items: 1
    pubsub_config:
      nesting_mode: list
      block:
        attributes:
          service_account_email:
            type: string
            description: Service account that will make the push request.
            description_kind: plain
            optional: true
          state:
            type: string
            description: Potential issues with the underlying Pub/Sub subscription configuration. Only populated on get requests.
            description_kind: plain
            computed: true
          subscription:
            type: string
            description: Output only. Name of the subscription.
            description_kind: plain
            computed: true
          topic:
            type: string
            description: The name of the topic from which this subscription is receiving messages.
            description_kind: plain
            required: true
        description: PubsubConfig describes the configuration of a trigger that creates a build whenever a Pub/Sub message is published. One of 'trigger_template', 'github', 'pubsub_config' 'webhook_config' or 'source_to_build' must be provided.
        description_kind: plain
      max_items: 1
    repository_event_config:
      nesting_mode: list
      block:
        attributes:
          repository:
            type: string
            description: The resource name of the Repo API resource.
            description_kind: plain
            optional: true
        block_types:
          pull_request:
            nesting_mode: list
            block:
              attributes:
                branch:
                  type: string
                  description: Regex of branches to match. The syntax of the regular expressions accepted is the syntax accepted by RE2 and described at https://github.com/google/re2/wiki/Syntax
                  description_kind: plain
                  optional: true
                comment_control:
                  type: string
                  description: 'Configure builds to run whether a repository owner or collaborator need to comment ''/gcbrun''. Possible values: ["COMMENTS_DISABLED", "COMMENTS_ENABLED", "COMMENTS_ENABLED_FOR_EXTERNAL_CONTRIBUTORS_ONLY"]'
                  description_kind: plain
                  optional: true
                invert_regex:
                  type: bool
                  description: If true, branches that do NOT match the git_ref will trigger a build.
                  description_kind: plain
                  optional: true
              description: Contains filter properties for matching Pull Requests.
              description_kind: plain
            max_items: 1
          push:
            nesting_mode: list
            block:
              attributes:
                branch:
                  type: string
                  description: Regex of branches to match. The syntax of the regular expressions accepted is the syntax accepted by RE2 and described at https://github.com/google/re2/wiki/Syntax
                  description_kind: plain
                  optional: true
                invert_regex:
                  type: bool
                  description: If true, only trigger a build if the revision regex does NOT match the git_ref regex.
                  description_kind: plain
                  optional: true
                tag:
                  type: string
                  description: Regex of tags to match. The syntax of the regular expressions accepted is the syntax accepted by RE2 and described at https://github.com/google/re2/wiki/Syntax
                  description_kind: plain
                  optional: true
              description: Contains filter properties for matching git pushes.
              description_kind: plain
            max_items: 1
        description: The configuration of a trigger that creates a build whenever an event from Repo API is received.
        description_kind: plain
      max_items: 1
    source_to_build:
      nesting_mode: list
      block:
        attributes:
          bitbucket_server_config:
            type: string
            description: 'The full resource name of the bitbucket server config. Format: projects/{project}/locations/{location}/bitbucketServerConfigs/{id}.'
            description_kind: plain
            optional: true
          github_enterprise_config:
            type: string
            description: 'The full resource name of the github enterprise config. Format: projects/{project}/locations/{location}/githubEnterpriseConfigs/{id}. projects/{project}/githubEnterpriseConfigs/{id}.'
            description_kind: plain
            optional: true
          ref:
            type: string
            description: The branch or tag to use. Must start with "refs/" (required).
            description_kind: plain
            required: true
          repo_type:
            type: string
            description: 'The type of the repo, since it may not be explicit from the repo field (e.g from a URL). Values can be UNKNOWN, CLOUD_SOURCE_REPOSITORIES, GITHUB, BITBUCKET_SERVER Possible values: ["UNKNOWN", "CLOUD_SOURCE_REPOSITORIES", "GITHUB", "BITBUCKET_SERVER"]'
            description_kind: plain
            required: true
          repository:
            type: string
            description: The qualified resource name of the Repo API repository. Either uri or repository can be specified and is required.
            description_kind: plain
            optional: true
          uri:
            type: string
            description: The URI of the repo.
            description_kind: plain
            optional: true
        description: The repo and ref of the repository from which to build. This field is used only for those triggers that do not respond to SCM events. Triggers that respond to such events build source at whatever commit caused the event. This field is currently only used by Webhook, Pub/Sub, Manual, and Cron triggers. One of 'trigger_template', 'github', 'pubsub_config' 'webhook_config' or 'source_to_build' must be provided.
        description_kind: plain
      max_items: 1
    timeouts:
      nesting_mode: single
      block:
        attributes:
          create:
            type: string
            description_kind: plain
            optional: true
          delete:
            type: string
            description_kind: plain
            optional: true
          update:
            type: string
            description_kind: plain
            optional: true
        description_kind: plain
    trigger_template:
      nesting_mode: list
      block:
        attributes:
          branch_name:
            type: string
            description: Name of the branch to build. Exactly one a of branch name, tag, or commit SHA must be provided. This field is a regular expression.
            description_kind: plain
            optional: true
          commit_sha:
            type: string
            description: Explicit commit SHA to build. Exactly one of a branch name, tag, or commit SHA must be provided.
            description_kind: plain
            optional: true
          dir:
            type: string
            description: Directory, relative to the source root, in which to run the build. This must be a relative path. If a step's dir is specified and is an absolute path, this value is ignored for that step's execution.
            description_kind: plain
            optional: true
          invert_regex:
            type: bool
            description: Only trigger a build if the revision regex does NOT match the revision regex.
            description_kind: plain
            optional: true
          project_id:
            type: string
            description: ID of the project that owns the Cloud Source Repository. If omitted, the project ID requesting the build is assumed.
            description_kind: plain
            optional: true
            computed: true
          repo_name:
            type: string
            description: Name of the Cloud Source Repository. If omitted, the name "default" is assumed.
            description_kind: plain
            optional: true
          tag_name:
            type: string
            description: Name of the tag to build. Exactly one of a branch name, tag, or commit SHA must be provided. This field is a regular expression.
            description_kind: plain
            optional: true
        description: Template describing the types of source changes to trigger a build. Branch and tag names in trigger templates are interpreted as regular expressions. Any branch or tag change that matches that regular expression will trigger a build. One of 'trigger_template', 'github', 'pubsub_config', 'webhook_config' or 'source_to_build' must be provided.
        description_kind: plain
      max_items: 1
    webhook_config:
      nesting_mode: list
      block:
        attributes:
          secret:
            type: string
            description: Resource name for the secret required as a URL parameter.
            description_kind: plain
            required: true
          state:
            type: string
            description: Potential issues with the underlying Pub/Sub subscription configuration. Only populated on get requests.
            description_kind: plain
            computed: true
        description: WebhookConfig describes the configuration of a trigger that creates a build whenever a webhook is sent to a trigger's webhook URL. One of 'trigger_template', 'github', 'pubsub_config' 'webhook_config' or 'source_to_build' must be provided.
        description_kind: plain
      max_items: 1
  description_kind: plain
