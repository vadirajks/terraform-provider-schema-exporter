version: 0
block:
  attributes:
    backend:
      type: string
      description: Id of the backend that this Traffic config applies to
      description_kind: plain
      required: true
    create_time:
      type: string
      description: Time at which the backend was created.
      description_kind: plain
      computed: true
    current:
      type:
      - list
      - - object
        - splits:
          - list
          - - object
            - build: string
              percent: number
      description: Current state of traffic allocation for the backend. When setting 'target', this field may differ for some time until the desired state is reached.
      description_kind: plain
      computed: true
    delete_time:
      type: string
      description: Time at which the backend was deleted.
      description_kind: plain
      computed: true
    etag:
      type: string
      description: Server-computed checksum based on other values; may be sent on update or delete to ensure operation is done on expected resource.
      description_kind: plain
      computed: true
    id:
      type: string
      description_kind: plain
      optional: true
      computed: true
    location:
      type: string
      description: The location the Backend that this Traffic config applies to
      description_kind: plain
      required: true
    name:
      type: string
      description: 'Identifier. The resource name of the backend traffic config Format: ''projects/{project}/locations/{locationId}/backends/{backendId}/traffic''.'
      description_kind: plain
      computed: true
    project:
      type: string
      description_kind: plain
      optional: true
      computed: true
    uid:
      type: string
      description: System-assigned, unique identifier.
      description_kind: plain
      computed: true
    update_time:
      type: string
      description: Time at which the backend was last updated.
      description_kind: plain
      computed: true
  block_types:
    rollout_policy:
      nesting_mode: list
      block:
        attributes:
          codebase_branch:
            type: string
            description: Specifies a branch that triggers a new build to be started with this policy. If not set, no automatic rollouts will happen.
            description_kind: plain
            optional: true
          disabled:
            type: bool
            description: A flag that, if true, prevents rollouts from being created via this RolloutPolicy.
            description_kind: plain
            optional: true
          disabled_time:
            type: string
            description: If disabled is set, the time at which the rollouts were disabled.
            description_kind: plain
            computed: true
        description: The policy for how builds and rollouts are triggered and rolled out.
        description_kind: plain
      max_items: 1
    target:
      nesting_mode: list
      block:
        block_types:
          splits:
            nesting_mode: list
            block:
              attributes:
                build:
                  type: string
                  description: The build that traffic is being routed to.
                  description_kind: plain
                  required: true
                percent:
                  type: number
                  description: The percentage of traffic to send to the build. Currently must be 100 or 0.
                  description_kind: plain
                  required: true
              description: A list of traffic splits that together represent where traffic is being routed.
              description_kind: plain
            min_items: 1
        description: Set to manually control the desired traffic for the backend. This will cause current to eventually match this value. The percentages must add up to 100.
        description_kind: plain
      max_items: 1
    timeouts:
      nesting_mode: single
      block:
        attributes:
          create:
            type: string
            description_kind: plain
            optional: true
          delete:
            type: string
            description_kind: plain
            optional: true
          update:
            type: string
            description_kind: plain
            optional: true
        description_kind: plain
  description_kind: plain
