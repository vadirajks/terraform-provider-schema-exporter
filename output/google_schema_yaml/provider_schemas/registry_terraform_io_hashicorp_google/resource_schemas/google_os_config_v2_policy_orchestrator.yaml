version: 0
block:
  attributes:
    action:
      type: string
      description: 'Required. Action to be done by the orchestrator in ''projects/{project_id}/zones/{zone_id}'' locations defined by the ''orchestration_scope''. Allowed values: - ''UPSERT'' - Orchestrator will create or update target resources. - ''DELETE'' - Orchestrator will delete target resources, if they exist'
      description_kind: plain
      required: true
    create_time:
      type: string
      description: Output only. Timestamp when the policy orchestrator resource was created.
      description_kind: plain
      computed: true
    description:
      type: string
      description: Optional. Freeform text describing the purpose of the resource.
      description_kind: plain
      optional: true
    effective_labels:
      type:
      - map
      - string
      description: All of labels (key/value pairs) present on the resource in GCP, including the labels configured through Terraform, other clients and services.
      description_kind: plain
      computed: true
    id:
      type: string
      description_kind: plain
      optional: true
      computed: true
    labels:
      type:
      - map
      - string
      description: 'Optional. Labels as key value pairs **Note**: This field is non-authoritative, and will only manage the labels present in your configuration. Please refer to the field ''effective_labels'' for all of the labels present on the resource.'
      description_kind: plain
      optional: true
    name:
      type: string
      description: Immutable. Identifier. In form of * 'organizations/{organization_id}/locations/global/policyOrchestrators/{orchestrator_id}' * 'folders/{folder_id}/locations/global/policyOrchestrators/{orchestrator_id}' * 'projects/{project_id_or_number}/locations/global/policyOrchestrators/{orchestrator_id}'
      description_kind: plain
      computed: true
    orchestration_state:
      type:
      - list
      - - object
        - current_iteration_state:
          - list
          - - object
            - error:
              - list
              - - object
                - code: number
                  details:
                  - list
                  - - object
                    - type_url: string
                      value: string
                  message: string
              failed_actions: string
              finish_time: string
              performed_actions: string
              progress: number
              rollout_resource: string
              start_time: string
              state: string
          previous_iteration_state:
          - list
          - - object
            - error:
              - list
              - - object
                - code: number
                  details:
                  - list
                  - - object
                    - type_url: string
                      value: string
                  message: string
              failed_actions: string
              finish_time: string
              performed_actions: string
              progress: number
              rollout_resource: string
              start_time: string
              state: string
      description: Describes the state of the orchestration process.
      description_kind: plain
      computed: true
    policy_orchestrator_id:
      type: string
      description: 'Required. The logical identifier of the policy orchestrator, with the following restrictions: * Must contain only lowercase letters, numbers, and hyphens. * Must start with a letter. * Must be between 1-63 characters. * Must end with a number or a letter. * Must be unique within the parent.'
      description_kind: plain
      required: true
    project:
      type: string
      description_kind: plain
      optional: true
      computed: true
    reconciling:
      type: bool
      description: Output only. Set to true, if the there are ongoing changes being applied by the orchestrator.
      description_kind: plain
      computed: true
    state:
      type: string
      description: 'Optional. State of the orchestrator. Can be updated to change orchestrator behaviour. Allowed values: - ''ACTIVE'' - orchestrator is actively looking for actions to be taken. - ''STOPPED'' - orchestrator won''t make any changes. Note: There might be more states added in the future. We use string here instead of an enum, to avoid the need of propagating new states to all the client code.'
      description_kind: plain
      optional: true
    terraform_labels:
      type:
      - map
      - string
      description: The combination of labels configured directly on the resource and default labels configured on the provider.
      description_kind: plain
      computed: true
    update_time:
      type: string
      description: Output only. Timestamp when the policy orchestrator resource was last modified.
      description_kind: plain
      computed: true
  block_types:
    orchestrated_resource:
      nesting_mode: list
      block:
        attributes:
          id:
            type: string
            description: 'Optional. ID of the resource to be used while generating set of affected resources. For UPSERT action the value is auto-generated during PolicyOrchestrator creation when not set. When the value is set it should following next restrictions: * Must contain only lowercase letters, numbers, and hyphens. * Must start with a letter. * Must be between 1-63 characters. * Must end with a number or a letter. * Must be unique within the project. For DELETE action, ID must be specified explicitly during PolicyOrchestrator creation.'
            description_kind: plain
            optional: true
        block_types:
          os_policy_assignment_v1_payload:
            nesting_mode: list
            block:
              attributes:
                baseline:
                  type: bool
                  description: Output only. Indicates that this revision has been successfully rolled out in this zone and new VMs will be assigned OS policies from this revision. For a given OS policy assignment, there is only one revision with a value of 'true' for this field.
                  description_kind: plain
                  computed: true
                deleted:
                  type: bool
                  description: Output only. Indicates that this revision deletes the OS policy assignment.
                  description_kind: plain
                  computed: true
                description:
                  type: string
                  description: OS policy assignment description. Length of the description is limited to 1024 characters.
                  description_kind: plain
                  optional: true
                name:
                  type: string
                  description: 'Resource name. Format: ''projects/{project_number}/locations/{location}/osPolicyAssignments/{os_policy_assignment_id}'' This field is ignored when you create an OS policy assignment.'
                  description_kind: plain
                  optional: true
                reconciling:
                  type: bool
                  description: 'Output only. Indicates that reconciliation is in progress for the revision. This value is ''true'' when the ''rollout_state'' is one of: * IN_PROGRESS * CANCELLING'
                  description_kind: plain
                  computed: true
                revision_create_time:
                  type: string
                  description: Output only. The timestamp that the revision was created.
                  description_kind: plain
                  computed: true
                revision_id:
                  type: string
                  description: Output only. The assignment revision ID A new revision is committed whenever a rollout is triggered for a OS policy assignment
                  description_kind: plain
                  computed: true
                rollout_state:
                  type: string
                  description: 'Output only. OS policy assignment rollout state Possible values: ROLLOUT_STATE_UNSPECIFIED IN_PROGRESS CANCELLING CANCELLED SUCCEEDED'
                  description_kind: plain
                  computed: true
                uid:
                  type: string
                  description: Output only. Server generated unique id for the OS policy assignment resource.
                  description_kind: plain
                  computed: true
              block_types:
                instance_filter:
                  nesting_mode: list
                  block:
                    attributes:
                      all:
                        type: bool
                        description: Target all VMs in the project. If true, no other criteria is permitted.
                        description_kind: plain
                        optional: true
                    block_types:
                      exclusion_labels:
                        nesting_mode: list
                        block:
                          attributes:
                            labels:
                              type:
                              - map
                              - string
                              description: Labels are identified by key/value pairs in this map. A VM should contain all the key/value pairs specified in this map to be selected.
                              description_kind: plain
                              optional: true
                          description: List of label sets used for VM exclusion. If the list has more than one label set, the VM is excluded if any of the label sets are applicable for the VM.
                          description_kind: plain
                      inclusion_labels:
                        nesting_mode: list
                        block:
                          attributes:
                            labels:
                              type:
                              - map
                              - string
                              description: Labels are identified by key/value pairs in this map. A VM should contain all the key/value pairs specified in this map to be selected.
                              description_kind: plain
                              optional: true
                          description: List of label sets used for VM inclusion. If the list has more than one 'LabelSet', the VM is included if any of the label sets are applicable for the VM.
                          description_kind: plain
                      inventories:
                        nesting_mode: list
                        block:
                          attributes:
                            os_short_name:
                              type: string
                              description: Required. The OS short name
                              description_kind: plain
                              required: true
                            os_version:
                              type: string
                              description: The OS version Prefix matches are supported if asterisk(*) is provided as the last character. For example, to match all versions with a major version of '7', specify the following value for this field '7.*' An empty string matches all OS versions.
                              description_kind: plain
                              optional: true
                          description: List of inventories to select VMs. A VM is selected if its inventory data matches at least one of the following inventories.
                          description_kind: plain
                    description: Filters to select target VMs for an assignment. If more than one filter criteria is specified below, a VM will be selected if and only if it satisfies all of them.
                    description_kind: plain
                  min_items: 1
                  max_items: 1
                os_policies:
                  nesting_mode: list
                  block:
                    attributes:
                      allow_no_resource_group_match:
                        type: bool
                        description: This flag determines the OS policy compliance status when none of the resource groups within the policy are applicable for a VM. Set this value to 'true' if the policy needs to be reported as compliant even if the policy has nothing to validate or enforce.
                        description_kind: plain
                        optional: true
                      description:
                        type: string
                        description: Policy description. Length of the description is limited to 1024 characters.
                        description_kind: plain
                        optional: true
                      id:
                        type: string
                        description: 'Required. The id of the OS policy with the following restrictions: * Must contain only lowercase letters, numbers, and hyphens. * Must start with a letter. * Must be between 1-63 characters. * Must end with a number or a letter. * Must be unique within the assignment.'
                        description_kind: plain
                        required: true
                      mode:
                        type: string
                        description: 'Required. Policy mode Possible values: MODE_UNSPECIFIED VALIDATION ENFORCEMENT'
                        description_kind: plain
                        required: true
                    block_types:
                      resource_groups:
                        nesting_mode: list
                        block:
                          block_types:
                            inventory_filters:
                              nesting_mode: list
                              block:
                                attributes:
                                  os_short_name:
                                    type: string
                                    description: Required. The OS short name
                                    description_kind: plain
                                    required: true
                                  os_version:
                                    type: string
                                    description: The OS version Prefix matches are supported if asterisk(*) is provided as the last character. For example, to match all versions with a major version of '7', specify the following value for this field '7.*' An empty string matches all OS versions.
                                    description_kind: plain
                                    optional: true
                                description: 'List of inventory filters for the resource group. The resources in this resource group are applied to the target VM if it satisfies at least one of the following inventory filters. For example, to apply this resource group to VMs running either ''RHEL'' or ''CentOS'' operating systems, specify 2 items for the list with following values: inventory_filters[0].os_short_name=''rhel'' and inventory_filters[1].os_short_name=''centos'' If the list is empty, this resource group will be applied to the target VM unconditionally.'
                                description_kind: plain
                            resources:
                              nesting_mode: list
                              block:
                                attributes:
                                  id:
                                    type: string
                                    description: 'Required. The id of the resource with the following restrictions: * Must contain only lowercase letters, numbers, and hyphens. * Must start with a letter. * Must be between 1-63 characters. * Must end with a number or a letter. * Must be unique within the OS policy.'
                                    description_kind: plain
                                    required: true
                                block_types:
                                  exec:
                                    nesting_mode: list
                                    block:
                                      block_types:
                                        enforce:
                                          nesting_mode: list
                                          block:
                                            attributes:
                                              args:
                                                type:
                                                - list
                                                - string
                                                description: Optional arguments to pass to the source during execution.
                                                description_kind: plain
                                                optional: true
                                              interpreter:
                                                type: string
                                                description: 'Required. The script interpreter to use. Possible values: INTERPRETER_UNSPECIFIED NONE SHELL POWERSHELL'
                                                description_kind: plain
                                                required: true
                                              output_file_path:
                                                type: string
                                                description: Only recorded for enforce Exec. Path to an output file (that is created by this Exec) whose content will be recorded in OSPolicyResourceCompliance after a successful run. Absence or failure to read this file will result in this ExecResource being non-compliant. Output file size is limited to 500K bytes.
                                                description_kind: plain
                                                optional: true
                                              script:
                                                type: string
                                                description: An inline script. The size of the script is limited to 32KiB.
                                                description_kind: plain
                                                optional: true
                                            block_types:
                                              file:
                                                nesting_mode: list
                                                block:
                                                  attributes:
                                                    allow_insecure:
                                                      type: bool
                                                      description: 'Defaults to false. When false, files are subject to validations based on the file type: Remote: A checksum must be specified. Cloud Storage: An object generation number must be specified.'
                                                      description_kind: plain
                                                      optional: true
                                                    local_path:
                                                      type: string
                                                      description: A local path within the VM to use.
                                                      description_kind: plain
                                                      optional: true
                                                  block_types:
                                                    gcs:
                                                      nesting_mode: list
                                                      block:
                                                        attributes:
                                                          bucket:
                                                            type: string
                                                            description: Required. Bucket of the Cloud Storage object.
                                                            description_kind: plain
                                                            required: true
                                                          generation:
                                                            type: string
                                                            description: Generation number of the Cloud Storage object.
                                                            description_kind: plain
                                                            optional: true
                                                          object:
                                                            type: string
                                                            description: Required. Name of the Cloud Storage object.
                                                            description_kind: plain
                                                            required: true
                                                        description: Specifies a file available as a Cloud Storage Object.
                                                        description_kind: plain
                                                      max_items: 1
                                                    remote:
                                                      nesting_mode: list
                                                      block:
                                                        attributes:
                                                          sha256_checksum:
                                                            type: string
                                                            description: SHA256 checksum of the remote file.
                                                            description_kind: plain
                                                            optional: true
                                                          uri:
                                                            type: string
                                                            description: Required. URI from which to fetch the object. It should contain both the protocol and path following the format '{protocol}://{location}'.
                                                            description_kind: plain
                                                            required: true
                                                        description: Specifies a file available via some URI.
                                                        description_kind: plain
                                                      max_items: 1
                                                  description: A remote or local file.
                                                  description_kind: plain
                                                max_items: 1
                                            description: A file or script to execute.
                                            description_kind: plain
                                          max_items: 1
                                        validate:
                                          nesting_mode: list
                                          block:
                                            attributes:
                                              args:
                                                type:
                                                - list
                                                - string
                                                description: Optional arguments to pass to the source during execution.
                                                description_kind: plain
                                                optional: true
                                              interpreter:
                                                type: string
                                                description: 'Required. The script interpreter to use. Possible values: INTERPRETER_UNSPECIFIED NONE SHELL POWERSHELL'
                                                description_kind: plain
                                                required: true
                                              output_file_path:
                                                type: string
                                                description: Only recorded for enforce Exec. Path to an output file (that is created by this Exec) whose content will be recorded in OSPolicyResourceCompliance after a successful run. Absence or failure to read this file will result in this ExecResource being non-compliant. Output file size is limited to 500K bytes.
                                                description_kind: plain
                                                optional: true
                                              script:
                                                type: string
                                                description: An inline script. The size of the script is limited to 32KiB.
                                                description_kind: plain
                                                optional: true
                                            block_types:
                                              file:
                                                nesting_mode: list
                                                block:
                                                  attributes:
                                                    allow_insecure:
                                                      type: bool
                                                      description: 'Defaults to false. When false, files are subject to validations based on the file type: Remote: A checksum must be specified. Cloud Storage: An object generation number must be specified.'
                                                      description_kind: plain
                                                      optional: true
                                                    local_path:
                                                      type: string
                                                      description: A local path within the VM to use.
                                                      description_kind: plain
                                                      optional: true
                                                  block_types:
                                                    gcs:
                                                      nesting_mode: list
                                                      block:
                                                        attributes:
                                                          bucket:
                                                            type: string
                                                            description: Required. Bucket of the Cloud Storage object.
                                                            description_kind: plain
                                                            required: true
                                                          generation:
                                                            type: string
                                                            description: Generation number of the Cloud Storage object.
                                                            description_kind: plain
                                                            optional: true
                                                          object:
                                                            type: string
                                                            description: Required. Name of the Cloud Storage object.
                                                            description_kind: plain
                                                            required: true
                                                        description: Specifies a file available as a Cloud Storage Object.
                                                        description_kind: plain
                                                      max_items: 1
                                                    remote:
                                                      nesting_mode: list
                                                      block:
                                                        attributes:
                                                          sha256_checksum:
                                                            type: string
                                                            description: SHA256 checksum of the remote file.
                                                            description_kind: plain
                                                            optional: true
                                                          uri:
                                                            type: string
                                                            description: Required. URI from which to fetch the object. It should contain both the protocol and path following the format '{protocol}://{location}'.
                                                            description_kind: plain
                                                            required: true
                                                        description: Specifies a file available via some URI.
                                                        description_kind: plain
                                                      max_items: 1
                                                  description: A remote or local file.
                                                  description_kind: plain
                                                max_items: 1
                                            description: A file or script to execute.
                                            description_kind: plain
                                          min_items: 1
                                          max_items: 1
                                      description: 'A resource that allows executing scripts on the VM. The ''ExecResource'' has 2 stages: ''validate'' and ''enforce'' and both stages accept a script as an argument to execute. When the ''ExecResource'' is applied by the agent, it first executes the script in the ''validate'' stage. The ''validate'' stage can signal that the ''ExecResource'' is already in the desired state by returning an exit code of ''100''. If the ''ExecResource'' is not in the desired state, it should return an exit code of ''101''. Any other exit code returned by this stage is considered an error. If the ''ExecResource'' is not in the desired state based on the exit code from the ''validate'' stage, the agent proceeds to execute the script from the ''enforce'' stage. If the ''ExecResource'' is already in the desired state, the ''enforce'' stage will not be run. Similar to ''validate'' stage, the ''enforce'' stage should return an exit code of ''100'' to indicate that the resource in now in its desired state. Any other exit code is considered an error. NOTE: An exit code of ''100'' was chosen over ''0'' (and ''101'' vs ''1'') to have an explicit indicator of ''in desired state'', ''not in desired state'' and errors. Because, for example, Powershell will always return an exit code of ''0'' unless an ''exit'' statement is provided in the script. So, for reasons of consistency and being explicit, exit codes ''100'' and ''101'' were chosen.'
                                      description_kind: plain
                                    max_items: 1
                                  file:
                                    nesting_mode: list
                                    block:
                                      attributes:
                                        content:
                                          type: string
                                          description: A a file with this content. The size of the content is limited to 32KiB.
                                          description_kind: plain
                                          optional: true
                                        path:
                                          type: string
                                          description: Required. The absolute path of the file within the VM.
                                          description_kind: plain
                                          required: true
                                        permissions:
                                          type: string
                                          description: 'Consists of three octal digits which represent, in order, the permissions of the owner, group, and other users for the file (similarly to the numeric mode used in the linux chmod utility). Each digit represents a three bit number with the 4 bit corresponding to the read permissions, the 2 bit corresponds to the write bit, and the one bit corresponds to the execute permission. Default behavior is 755. Below are some examples of permissions and their associated values: read, write, and execute: 7 read and execute: 5 read and write: 6 read only: 4'
                                          description_kind: plain
                                          optional: true
                                        state:
                                          type: string
                                          description: 'Required. Desired state of the file. Possible values: DESIRED_STATE_UNSPECIFIED PRESENT ABSENT CONTENTS_MATCH'
                                          description_kind: plain
                                          required: true
                                      block_types:
                                        file:
                                          nesting_mode: list
                                          block:
                                            attributes:
                                              allow_insecure:
                                                type: bool
                                                description: 'Defaults to false. When false, files are subject to validations based on the file type: Remote: A checksum must be specified. Cloud Storage: An object generation number must be specified.'
                                                description_kind: plain
                                                optional: true
                                              local_path:
                                                type: string
                                                description: A local path within the VM to use.
                                                description_kind: plain
                                                optional: true
                                            block_types:
                                              gcs:
                                                nesting_mode: list
                                                block:
                                                  attributes:
                                                    bucket:
                                                      type: string
                                                      description: Required. Bucket of the Cloud Storage object.
                                                      description_kind: plain
                                                      required: true
                                                    generation:
                                                      type: string
                                                      description: Generation number of the Cloud Storage object.
                                                      description_kind: plain
                                                      optional: true
                                                    object:
                                                      type: string
                                                      description: Required. Name of the Cloud Storage object.
                                                      description_kind: plain
                                                      required: true
                                                  description: Specifies a file available as a Cloud Storage Object.
                                                  description_kind: plain
                                                max_items: 1
                                              remote:
                                                nesting_mode: list
                                                block:
                                                  attributes:
                                                    sha256_checksum:
                                                      type: string
                                                      description: SHA256 checksum of the remote file.
                                                      description_kind: plain
                                                      optional: true
                                                    uri:
                                                      type: string
                                                      description: Required. URI from which to fetch the object. It should contain both the protocol and path following the format '{protocol}://{location}'.
                                                      description_kind: plain
                                                      required: true
                                                  description: Specifies a file available via some URI.
                                                  description_kind: plain
                                                max_items: 1
                                            description: A remote or local file.
                                            description_kind: plain
                                          max_items: 1
                                      description: A resource that manages the state of a file.
                                      description_kind: plain
                                    max_items: 1
                                  pkg:
                                    nesting_mode: list
                                    block:
                                      attributes:
                                        desired_state:
                                          type: string
                                          description: 'Required. The desired state the agent should maintain for this package. Possible values: DESIRED_STATE_UNSPECIFIED INSTALLED REMOVED'
                                          description_kind: plain
                                          required: true
                                      block_types:
                                        apt:
                                          nesting_mode: list
                                          block:
                                            attributes:
                                              name:
                                                type: string
                                                description: Required. Package name.
                                                description_kind: plain
                                                required: true
                                            description: 'A package managed by APT. - install: ''apt-get update && apt-get -y install [name]'' - remove: ''apt-get -y remove [name]'''
                                            description_kind: plain
                                          max_items: 1
                                        deb:
                                          nesting_mode: list
                                          block:
                                            attributes:
                                              pull_deps:
                                                type: bool
                                                description: 'Whether dependencies should also be installed. - install when false: ''dpkg -i package'' - install when true: ''apt-get update && apt-get -y install package.deb'''
                                                description_kind: plain
                                                optional: true
                                            block_types:
                                              source:
                                                nesting_mode: list
                                                block:
                                                  attributes:
                                                    allow_insecure:
                                                      type: bool
                                                      description: 'Defaults to false. When false, files are subject to validations based on the file type: Remote: A checksum must be specified. Cloud Storage: An object generation number must be specified.'
                                                      description_kind: plain
                                                      optional: true
                                                    local_path:
                                                      type: string
                                                      description: A local path within the VM to use.
                                                      description_kind: plain
                                                      optional: true
                                                  block_types:
                                                    gcs:
                                                      nesting_mode: list
                                                      block:
                                                        attributes:
                                                          bucket:
                                                            type: string
                                                            description: Required. Bucket of the Cloud Storage object.
                                                            description_kind: plain
                                                            required: true
                                                          generation:
                                                            type: string
                                                            description: Generation number of the Cloud Storage object.
                                                            description_kind: plain
                                                            optional: true
                                                          object:
                                                            type: string
                                                            description: Required. Name of the Cloud Storage object.
                                                            description_kind: plain
                                                            required: true
                                                        description: Specifies a file available as a Cloud Storage Object.
                                                        description_kind: plain
                                                      max_items: 1
                                                    remote:
                                                      nesting_mode: list
                                                      block:
                                                        attributes:
                                                          sha256_checksum:
                                                            type: string
                                                            description: SHA256 checksum of the remote file.
                                                            description_kind: plain
                                                            optional: true
                                                          uri:
                                                            type: string
                                                            description: Required. URI from which to fetch the object. It should contain both the protocol and path following the format '{protocol}://{location}'.
                                                            description_kind: plain
                                                            required: true
                                                        description: Specifies a file available via some URI.
                                                        description_kind: plain
                                                      max_items: 1
                                                  description: A remote or local file.
                                                  description_kind: plain
                                                min_items: 1
                                                max_items: 1
                                            description: A deb package file. dpkg packages only support INSTALLED state.
                                            description_kind: plain
                                          max_items: 1
                                        googet:
                                          nesting_mode: list
                                          block:
                                            attributes:
                                              name:
                                                type: string
                                                description: Required. Package name.
                                                description_kind: plain
                                                required: true
                                            description: 'A package managed by GooGet. - install: ''googet -noconfirm install package'' - remove: ''googet -noconfirm remove package'''
                                            description_kind: plain
                                          max_items: 1
                                        msi:
                                          nesting_mode: list
                                          block:
                                            attributes:
                                              properties:
                                                type:
                                                - list
                                                - string
                                                description: Additional properties to use during installation. This should be in the format of Property=Setting. Appended to the defaults of 'ACTION=INSTALL REBOOT=ReallySuppress'.
                                                description_kind: plain
                                                optional: true
                                            block_types:
                                              source:
                                                nesting_mode: list
                                                block:
                                                  attributes:
                                                    allow_insecure:
                                                      type: bool
                                                      description: 'Defaults to false. When false, files are subject to validations based on the file type: Remote: A checksum must be specified. Cloud Storage: An object generation number must be specified.'
                                                      description_kind: plain
                                                      optional: true
                                                    local_path:
                                                      type: string
                                                      description: A local path within the VM to use.
                                                      description_kind: plain
                                                      optional: true
                                                  block_types:
                                                    gcs:
                                                      nesting_mode: list
                                                      block:
                                                        attributes:
                                                          bucket:
                                                            type: string
                                                            description: Required. Bucket of the Cloud Storage object.
                                                            description_kind: plain
                                                            required: true
                                                          generation:
                                                            type: string
                                                            description: Generation number of the Cloud Storage object.
                                                            description_kind: plain
                                                            optional: true
                                                          object:
                                                            type: string
                                                            description: Required. Name of the Cloud Storage object.
                                                            description_kind: plain
                                                            required: true
                                                        description: Specifies a file available as a Cloud Storage Object.
                                                        description_kind: plain
                                                      max_items: 1
                                                    remote:
                                                      nesting_mode: list
                                                      block:
                                                        attributes:
                                                          sha256_checksum:
                                                            type: string
                                                            description: SHA256 checksum of the remote file.
                                                            description_kind: plain
                                                            optional: true
                                                          uri:
                                                            type: string
                                                            description: Required. URI from which to fetch the object. It should contain both the protocol and path following the format '{protocol}://{location}'.
                                                            description_kind: plain
                                                            required: true
                                                        description: Specifies a file available via some URI.
                                                        description_kind: plain
                                                      max_items: 1
                                                  description: A remote or local file.
                                                  description_kind: plain
                                                min_items: 1
                                                max_items: 1
                                            description: An MSI package. MSI packages only support INSTALLED state.
                                            description_kind: plain
                                          max_items: 1
                                        rpm:
                                          nesting_mode: list
                                          block:
                                            attributes:
                                              pull_deps:
                                                type: bool
                                                description: 'Whether dependencies should also be installed. - install when false: ''rpm --upgrade --replacepkgs package.rpm'' - install when true: ''yum -y install package.rpm'' or ''zypper -y install package.rpm'''
                                                description_kind: plain
                                                optional: true
                                            block_types:
                                              source:
                                                nesting_mode: list
                                                block:
                                                  attributes:
                                                    allow_insecure:
                                                      type: bool
                                                      description: 'Defaults to false. When false, files are subject to validations based on the file type: Remote: A checksum must be specified. Cloud Storage: An object generation number must be specified.'
                                                      description_kind: plain
                                                      optional: true
                                                    local_path:
                                                      type: string
                                                      description: A local path within the VM to use.
                                                      description_kind: plain
                                                      optional: true
                                                  block_types:
                                                    gcs:
                                                      nesting_mode: list
                                                      block:
                                                        attributes:
                                                          bucket:
                                                            type: string
                                                            description: Required. Bucket of the Cloud Storage object.
                                                            description_kind: plain
                                                            required: true
                                                          generation:
                                                            type: string
                                                            description: Generation number of the Cloud Storage object.
                                                            description_kind: plain
                                                            optional: true
                                                          object:
                                                            type: string
                                                            description: Required. Name of the Cloud Storage object.
                                                            description_kind: plain
                                                            required: true
                                                        description: Specifies a file available as a Cloud Storage Object.
                                                        description_kind: plain
                                                      max_items: 1
                                                    remote:
                                                      nesting_mode: list
                                                      block:
                                                        attributes:
                                                          sha256_checksum:
                                                            type: string
                                                            description: SHA256 checksum of the remote file.
                                                            description_kind: plain
                                                            optional: true
                                                          uri:
                                                            type: string
                                                            description: Required. URI from which to fetch the object. It should contain both the protocol and path following the format '{protocol}://{location}'.
                                                            description_kind: plain
                                                            required: true
                                                        description: Specifies a file available via some URI.
                                                        description_kind: plain
                                                      max_items: 1
                                                  description: A remote or local file.
                                                  description_kind: plain
                                                min_items: 1
                                                max_items: 1
                                            description: An RPM package file. RPM packages only support INSTALLED state.
                                            description_kind: plain
                                          max_items: 1
                                        yum:
                                          nesting_mode: list
                                          block:
                                            attributes:
                                              name:
                                                type: string
                                                description: Required. Package name.
                                                description_kind: plain
                                                required: true
                                            description: 'A package managed by YUM. - install: ''yum -y install package'' - remove: ''yum -y remove package'''
                                            description_kind: plain
                                          max_items: 1
                                        zypper:
                                          nesting_mode: list
                                          block:
                                            attributes:
                                              name:
                                                type: string
                                                description: Required. Package name.
                                                description_kind: plain
                                                required: true
                                            description: 'A package managed by Zypper. - install: ''zypper -y install package'' - remove: ''zypper -y rm package'''
                                            description_kind: plain
                                          max_items: 1
                                      description: A resource that manages a system package.
                                      description_kind: plain
                                    max_items: 1
                                  repository:
                                    nesting_mode: list
                                    block:
                                      block_types:
                                        apt:
                                          nesting_mode: list
                                          block:
                                            attributes:
                                              archive_type:
                                                type: string
                                                description: 'Required. Type of archive files in this repository. Possible values: ARCHIVE_TYPE_UNSPECIFIED DEB DEB_SRC'
                                                description_kind: plain
                                                required: true
                                              components:
                                                type:
                                                - list
                                                - string
                                                description: Required. List of components for this repository. Must contain at least one item.
                                                description_kind: plain
                                                required: true
                                              distribution:
                                                type: string
                                                description: Required. Distribution of this repository.
                                                description_kind: plain
                                                required: true
                                              gpg_key:
                                                type: string
                                                description: URI of the key file for this repository. The agent maintains a keyring at '/etc/apt/trusted.gpg.d/osconfig_agent_managed.gpg'.
                                                description_kind: plain
                                                optional: true
                                              uri:
                                                type: string
                                                description: Required. URI for this repository.
                                                description_kind: plain
                                                required: true
                                            description: Represents a single apt package repository. These will be added to a repo file that will be managed at '/etc/apt/sources.list.d/google_osconfig.list'.
                                            description_kind: plain
                                          max_items: 1
                                        goo:
                                          nesting_mode: list
                                          block:
                                            attributes:
                                              name:
                                                type: string
                                                description: Required. The name of the repository.
                                                description_kind: plain
                                                required: true
                                              url:
                                                type: string
                                                description: Required. The url of the repository.
                                                description_kind: plain
                                                required: true
                                            description: Represents a Goo package repository. These are added to a repo file that is managed at 'C:/ProgramData/GooGet/repos/google_osconfig.repo'.
                                            description_kind: plain
                                          max_items: 1
                                        yum:
                                          nesting_mode: list
                                          block:
                                            attributes:
                                              base_url:
                                                type: string
                                                description: Required. The location of the repository directory.
                                                description_kind: plain
                                                required: true
                                              display_name:
                                                type: string
                                                description: The display name of the repository.
                                                description_kind: plain
                                                optional: true
                                              gpg_keys:
                                                type:
                                                - list
                                                - string
                                                description: URIs of GPG keys.
                                                description_kind: plain
                                                optional: true
                                              id:
                                                type: string
                                                description: Required. A one word, unique name for this repository. This is  the 'repo id' in the yum config file and also the 'display_name' if 'display_name' is omitted. This id is also used as the unique identifier when checking for resource conflicts.
                                                description_kind: plain
                                                required: true
                                            description: Represents a single yum package repository. These are added to a repo file that is managed at '/etc/yum.repos.d/google_osconfig.repo'.
                                            description_kind: plain
                                          max_items: 1
                                        zypper:
                                          nesting_mode: list
                                          block:
                                            attributes:
                                              base_url:
                                                type: string
                                                description: Required. The location of the repository directory.
                                                description_kind: plain
                                                required: true
                                              display_name:
                                                type: string
                                                description: The display name of the repository.
                                                description_kind: plain
                                                optional: true
                                              gpg_keys:
                                                type:
                                                - list
                                                - string
                                                description: URIs of GPG keys.
                                                description_kind: plain
                                                optional: true
                                              id:
                                                type: string
                                                description: Required. A one word, unique name for this repository. This is the 'repo id' in the zypper config file and also the 'display_name' if 'display_name' is omitted. This id is also used as the unique identifier when checking for GuestPolicy conflicts.
                                                description_kind: plain
                                                required: true
                                            description: Represents a single zypper package repository. These are added to a repo file that is managed at '/etc/zypp/repos.d/google_osconfig.repo'.
                                            description_kind: plain
                                          max_items: 1
                                      description: A resource that manages a package repository.
                                      description_kind: plain
                                    max_items: 1
                                description: Required. List of resources configured for this resource group. The resources are executed in the exact order specified here.
                                description_kind: plain
                              min_items: 1
                          description: Required. List of resource groups for the policy. For a particular VM, resource groups are evaluated in the order specified and the first resource group that is applicable is selected and the rest are ignored. If none of the resource groups are applicable for a VM, the VM is considered to be non-compliant w.r.t this policy. This behavior can be toggled by the flag 'allow_no_resource_group_match'
                          description_kind: plain
                        min_items: 1
                    description: Required. List of OS policies to be applied to the VMs.
                    description_kind: plain
                  min_items: 1
                rollout:
                  nesting_mode: list
                  block:
                    attributes:
                      min_wait_duration:
                        type: string
                        description: Required. This determines the minimum duration of time to wait after the configuration changes are applied through the current rollout. A VM continues to count towards the 'disruption_budget' at least until this duration of time has passed after configuration changes are applied.
                        description_kind: plain
                        required: true
                    block_types:
                      disruption_budget:
                        nesting_mode: list
                        block:
                          attributes:
                            fixed:
                              type: number
                              description: Specifies a fixed value.
                              description_kind: plain
                              optional: true
                            percent:
                              type: number
                              description: Specifies the relative value defined as a percentage, which will be multiplied by a reference value.
                              description_kind: plain
                              optional: true
                          description: Message encapsulating a value that can be either absolute ("fixed") or relative ("percent") to a value.
                          description_kind: plain
                        min_items: 1
                        max_items: 1
                    description: Message to configure the rollout at the zonal level for the OS policy assignment.
                    description_kind: plain
                  min_items: 1
                  max_items: 1
              description: OS policy assignment is an API resource that is used to apply a set of OS policies to a dynamically targeted group of Compute Engine VM instances. An OS policy is used to define the desired state configuration for a Compute Engine VM instance through a set of configuration resources that provide capabilities such as installing or removing software packages, or executing a script. For more information about the OS policy resource definitions and examples, see [OS policy and OS policy assignment](https://cloud.google.com/compute/docs/os-configuration-management/working-with-os-policies).
              description_kind: plain
            max_items: 1
        description: Represents a resource that is being orchestrated by the policy orchestrator.
        description_kind: plain
      min_items: 1
      max_items: 1
    orchestration_scope:
      nesting_mode: list
      block:
        block_types:
          selectors:
            nesting_mode: list
            block:
              block_types:
                location_selector:
                  nesting_mode: list
                  block:
                    attributes:
                      included_locations:
                        type:
                        - list
                        - string
                        description: 'Optional. Names of the locations in scope. Format: ''us-central1-a'''
                        description_kind: plain
                        optional: true
                    description: Selector containing locations in scope.
                    description_kind: plain
                  max_items: 1
                resource_hierarchy_selector:
                  nesting_mode: list
                  block:
                    attributes:
                      included_folders:
                        type:
                        - list
                        - string
                        description: 'Optional. Names of the folders in scope. Format: ''folders/{folder_id}'''
                        description_kind: plain
                        optional: true
                      included_projects:
                        type:
                        - list
                        - string
                        description: 'Optional. Names of the projects in scope. Format: ''projects/{project_number}'''
                        description_kind: plain
                        optional: true
                    description: Selector containing Cloud Resource Manager resource hierarchy nodes.
                    description_kind: plain
                  max_items: 1
              description: Optional. Selectors of the orchestration scope. There is a logical AND between each selector defined. When there is no explicit 'ResourceHierarchySelector' selector specified, the scope is by default bounded to the parent of the policy orchestrator resource.
              description_kind: plain
        description: Defines a set of selectors which drive which resources are in scope of policy orchestration.
        description_kind: plain
      max_items: 1
    timeouts:
      nesting_mode: single
      block:
        attributes:
          create:
            type: string
            description_kind: plain
            optional: true
          delete:
            type: string
            description_kind: plain
            optional: true
          update:
            type: string
            description_kind: plain
            optional: true
        description_kind: plain
  description_kind: plain
