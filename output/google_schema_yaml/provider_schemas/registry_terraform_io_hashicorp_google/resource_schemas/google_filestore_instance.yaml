version: 1
block:
  attributes:
    create_time:
      type: string
      description: Creation timestamp in RFC3339 text format.
      description_kind: plain
      computed: true
    deletion_protection_enabled:
      type: bool
      description: Indicates whether the instance is protected against deletion.
      description_kind: plain
      optional: true
    deletion_protection_reason:
      type: string
      description: The reason for enabling deletion protection.
      description_kind: plain
      optional: true
    description:
      type: string
      description: A description of the instance.
      description_kind: plain
      optional: true
    effective_labels:
      type:
      - map
      - string
      description: All of labels (key/value pairs) present on the resource in GCP, including the labels configured through Terraform, other clients and services.
      description_kind: plain
      computed: true
    effective_replication:
      type:
      - list
      - - object
        - replicas:
          - list
          - - object
            - last_active_sync_time: string
              peer_instance: string
              state: string
              state_reasons:
              - list
              - string
          role: string
      description: Output only fields for replication configuration.
      description_kind: plain
      computed: true
    etag:
      type: string
      description: Server-specified ETag for the instance resource to prevent simultaneous updates from overwriting each other.
      description_kind: plain
      computed: true
    id:
      type: string
      description_kind: plain
      optional: true
      computed: true
    kms_key_name:
      type: string
      description: KMS key name used for data encryption.
      description_kind: plain
      optional: true
    labels:
      type:
      - map
      - string
      description: 'Resource labels to represent user-provided metadata. **Note**: This field is non-authoritative, and will only manage the labels present in your configuration. Please refer to the field ''effective_labels'' for all of the labels present on the resource.'
      description_kind: plain
      optional: true
    location:
      type: string
      description: The name of the location of the instance. This can be a region for ENTERPRISE tier instances.
      description_kind: plain
      optional: true
      computed: true
    name:
      type: string
      description: The resource name of the instance.
      description_kind: plain
      required: true
    project:
      type: string
      description_kind: plain
      optional: true
      computed: true
    protocol:
      type: string
      description: 'Either NFSv3, for using NFS version 3 as file sharing protocol, or NFSv4.1, for using NFS version 4.1 as file sharing protocol. NFSv4.1 can be used with HIGH_SCALE_SSD, ZONAL, REGIONAL and ENTERPRISE. The default is NFSv3. Default value: "NFS_V3" Possible values: ["NFS_V3", "NFS_V4_1"]'
      description_kind: plain
      optional: true
    tags:
      type:
      - map
      - string
      description: A map of resource manager tags. Resource manager tag keys and values have the same definition as resource manager tags. Keys must be in the format tagKeys/{tag_key_id}, and values are in the format tagValues/456. The field is ignored when empty. The field is immutable and causes resource replacement when mutated. This field is only set at create time and modifying this field after creation will trigger recreation. To apply tags to an existing resource, see the 'google_tags_tag_value' resource.
      description_kind: plain
      optional: true
    terraform_labels:
      type:
      - map
      - string
      description: The combination of labels configured directly on the resource and default labels configured on the provider.
      description_kind: plain
      computed: true
    tier:
      type: string
      description: 'The service tier of the instance. Possible values include: STANDARD, PREMIUM, BASIC_HDD, BASIC_SSD, HIGH_SCALE_SSD, ZONAL, REGIONAL and ENTERPRISE'
      description_kind: plain
      required: true
    zone:
      type: string
      description: The name of the Filestore zone of the instance.
      description_kind: plain
      deprecated: true
      optional: true
      computed: true
  block_types:
    file_shares:
      nesting_mode: list
      block:
        attributes:
          capacity_gb:
            type: number
            description: File share capacity in GiB. This must be at least 1024 GiB for the standard tier, or 2560 GiB for the premium tier.
            description_kind: plain
            required: true
          name:
            type: string
            description: The name of the fileshare (16 characters or less)
            description_kind: plain
            required: true
          source_backup:
            type: string
            description: The resource name of the backup, in the format projects/{projectId}/locations/{locationId}/backups/{backupId}, that this file share has been restored from.
            description_kind: plain
            optional: true
        block_types:
          nfs_export_options:
            nesting_mode: list
            block:
              attributes:
                access_mode:
                  type: string
                  description: 'Either READ_ONLY, for allowing only read requests on the exported directory, or READ_WRITE, for allowing both read and write requests. The default is READ_WRITE. Default value: "READ_WRITE" Possible values: ["READ_ONLY", "READ_WRITE"]'
                  description_kind: plain
                  optional: true
                anon_gid:
                  type: number
                  description: An integer representing the anonymous group id with a default value of 65534. Anon_gid may only be set with squashMode of ROOT_SQUASH. An error will be returned if this field is specified for other squashMode settings.
                  description_kind: plain
                  optional: true
                anon_uid:
                  type: number
                  description: An integer representing the anonymous user id with a default value of 65534. Anon_uid may only be set with squashMode of ROOT_SQUASH. An error will be returned if this field is specified for other squashMode settings.
                  description_kind: plain
                  optional: true
                ip_ranges:
                  type:
                  - list
                  - string
                  description: List of either IPv4 addresses, or ranges in CIDR notation which may mount the file share. Overlapping IP ranges are not allowed, both within and across NfsExportOptions. An error will be returned. The limit is 64 IP ranges/addresses for each FileShareConfig among all NfsExportOptions.
                  description_kind: plain
                  optional: true
                network:
                  type: string
                  description: The source VPC network for 'ip_ranges'. Required for instances using Private Service Connect, optional otherwise.
                  description_kind: plain
                  optional: true
                squash_mode:
                  type: string
                  description: 'Either NO_ROOT_SQUASH, for allowing root access on the exported directory, or ROOT_SQUASH, for not allowing root access. The default is NO_ROOT_SQUASH. Default value: "NO_ROOT_SQUASH" Possible values: ["NO_ROOT_SQUASH", "ROOT_SQUASH"]'
                  description_kind: plain
                  optional: true
              description: Nfs Export Options. There is a limit of 10 export options per file share.
              description_kind: plain
            max_items: 10
        description: File system shares on the instance. For this version, only a single file share is supported.
        description_kind: plain
      min_items: 1
      max_items: 1
    initial_replication:
      nesting_mode: list
      block:
        attributes:
          role:
            type: string
            description: 'The replication role. Default value: "STANDBY" Possible values: ["ROLE_UNSPECIFIED", "ACTIVE", "STANDBY"]'
            description_kind: plain
            optional: true
        block_types:
          replicas:
            nesting_mode: list
            block:
              attributes:
                peer_instance:
                  type: string
                  description: The peer instance.
                  description_kind: plain
                  required: true
              description: The replication role.
              description_kind: plain
        description: Replication configuration, once set, this cannot be updated. Additionally this should be specified on the replica instance only, indicating the active as the peer_instance
        description_kind: plain
      max_items: 1
    networks:
      nesting_mode: list
      block:
        attributes:
          connect_mode:
            type: string
            description: 'The network connect mode of the Filestore instance. If not provided, the connect mode defaults to DIRECT_PEERING. Default value: "DIRECT_PEERING" Possible values: ["DIRECT_PEERING", "PRIVATE_SERVICE_ACCESS", "PRIVATE_SERVICE_CONNECT"]'
            description_kind: plain
            optional: true
          ip_addresses:
            type:
            - list
            - string
            description: A list of IPv4 or IPv6 addresses.
            description_kind: plain
            computed: true
          modes:
            type:
            - list
            - string
            description: 'IP versions for which the instance has IP addresses assigned. Possible values: ["ADDRESS_MODE_UNSPECIFIED", "MODE_IPV4", "MODE_IPV6"]'
            description_kind: plain
            required: true
          network:
            type: string
            description: The name of the GCE VPC network to which the instance is connected.
            description_kind: plain
            required: true
          reserved_ip_range:
            type: string
            description: A /29 CIDR block that identifies the range of IP addresses reserved for this instance.
            description_kind: plain
            optional: true
            computed: true
        block_types:
          psc_config:
            nesting_mode: list
            block:
              attributes:
                endpoint_project:
                  type: string
                  description: Consumer service project in which the Private Service Connect endpoint would be set up. This is optional, and only relevant in case the network is a shared VPC. If this is not specified, the endpoint would be set up in the VPC host project.
                  description_kind: plain
                  optional: true
              description: Private Service Connect configuration. Should only be set when connect_mode is PRIVATE_SERVICE_CONNECT.
              description_kind: plain
            max_items: 1
        description: VPC networks to which the instance is connected. For this version, only a single network is supported.
        description_kind: plain
      min_items: 1
    performance_config:
      nesting_mode: list
      block:
        block_types:
          fixed_iops:
            nesting_mode: list
            block:
              attributes:
                max_iops:
                  type: number
                  description: The number of IOPS to provision for the instance. max_iops must be in multiple of 1000.
                  description_kind: plain
                  optional: true
              description: The instance will have a fixed provisioned IOPS value, which will remain constant regardless of instance capacity.
              description_kind: plain
            max_items: 1
          iops_per_tb:
            nesting_mode: list
            block:
              attributes:
                max_iops_per_tb:
                  type: number
                  description: The instance max IOPS will be calculated by multiplying the capacity of the instance (TB) by max_iops_per_tb, and rounding to the nearest 1000. The instance max IOPS will be changed dynamically based on the instance capacity.
                  description_kind: plain
                  optional: true
              description: The instance provisioned IOPS will change dynamically based on the capacity of the instance.
              description_kind: plain
            max_items: 1
        description: Performance configuration for the instance. If not provided, the default performance settings will be used.
        description_kind: plain
      max_items: 1
    timeouts:
      nesting_mode: single
      block:
        attributes:
          create:
            type: string
            description_kind: plain
            optional: true
          delete:
            type: string
            description_kind: plain
            optional: true
          update:
            type: string
            description_kind: plain
            optional: true
        description_kind: plain
  description_kind: plain
