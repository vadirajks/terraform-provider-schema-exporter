version: 0
block:
  attributes:
    description:
      type: string
      description: High level description of the Tool and its usage.
      description_kind: plain
      required: true
    display_name:
      type: string
      description: The human-readable name of the tool, unique within the agent.
      description_kind: plain
      required: true
    id:
      type: string
      description_kind: plain
      optional: true
      computed: true
    name:
      type: string
      description: 'The unique identifier of the Tool. Format: projects/<Project ID>/locations/<Location ID>/agents/<Agent ID>/tools/<Tool ID>.'
      description_kind: plain
      computed: true
    parent:
      type: string
      description: 'The agent to create a Tool for. Format: projects/<Project ID>/locations/<Location ID>/agents/<Agent ID>.'
      description_kind: plain
      optional: true
    tool_type:
      type: string
      description: The tool type.
      description_kind: plain
      computed: true
  block_types:
    data_store_spec:
      nesting_mode: list
      block:
        block_types:
          data_store_connections:
            nesting_mode: list
            block:
              attributes:
                data_store:
                  type: string
                  description: 'The full name of the referenced data store. Formats: projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore} projects/{project}/locations/{location}/dataStores/{dataStore}'
                  description_kind: plain
                  optional: true
                data_store_type:
                  type: string
                  description: The type of the connected data store. See [DataStoreType](https://cloud.google.com/dialogflow/cx/docs/reference/rest/v3/DataStoreConnection#datastoretype) for valid values.
                  description_kind: plain
                  optional: true
                document_processing_mode:
                  type: string
                  description: The document processing mode for the data store connection. Should only be set for PUBLIC_WEB and UNSTRUCTURED data stores. If not set it is considered as DOCUMENTS, as this is the legacy mode. See [DocumentProcessingMode](https://cloud.google.com/dialogflow/cx/docs/reference/rest/v3/DataStoreConnection#documentprocessingmode) for valid values.
                  description_kind: plain
                  optional: true
              description: List of data stores to search.
              description_kind: plain
            min_items: 1
          fallback_prompt:
            nesting_mode: list
            block:
              description: Fallback prompt configurations to use.
              description_kind: plain
            min_items: 1
            max_items: 1
        description: 'Data store search tool specification. This field is part of a union field ''specification'': Only one of ''openApiSpec'', ''dataStoreSpec'', or ''functionSpec'' may be set.'
        description_kind: plain
      max_items: 1
    function_spec:
      nesting_mode: list
      block:
        attributes:
          input_schema:
            type: string
            description: Optional. The JSON schema is encapsulated in a [google.protobuf.Struct](https://protobuf.dev/reference/protobuf/google.protobuf/#struct) to describe the input of the function. This input is a JSON object that contains the function's parameters as properties of the object
            description_kind: plain
            optional: true
          output_schema:
            type: string
            description: Optional. The JSON schema is encapsulated in a [google.protobuf.Struct](https://protobuf.dev/reference/protobuf/google.protobuf/#struct) to describe the output of the function. This output is a JSON object that contains the function's parameters as properties of the object
            description_kind: plain
            optional: true
        description: 'Client side executed function specification. This field is part of a union field ''specification'': Only one of ''openApiSpec'', ''dataStoreSpec'', or ''functionSpec'' may be set.'
        description_kind: plain
      max_items: 1
    open_api_spec:
      nesting_mode: list
      block:
        attributes:
          text_schema:
            type: string
            description: 'The OpenAPI schema specified as a text. This field is part of a union field ''schema'': only one of ''textSchema'' may be set.'
            description_kind: plain
            required: true
        block_types:
          authentication:
            nesting_mode: list
            block:
              block_types:
                api_key_config:
                  nesting_mode: list
                  block:
                    attributes:
                      api_key:
                        type: string
                        description: Optional. The API key. If the 'secretVersionForApiKey'' field is set, this field will be ignored.
                        description_kind: plain
                        optional: true
                        sensitive: true
                      key_name:
                        type: string
                        description: The parameter name or the header name of the API key. E.g., If the API request is "https://example.com/act?X-Api-Key=", "X-Api-Key" would be the parameter name.
                        description_kind: plain
                        required: true
                      request_location:
                        type: string
                        description: Key location in the request. See [RequestLocation](https://cloud.google.com/dialogflow/cx/docs/reference/rest/v3/projects.locations.agents.tools#requestlocation) for valid values.
                        description_kind: plain
                        required: true
                      secret_version_for_api_key:
                        type: string
                        description: 'Optional. The name of the SecretManager secret version resource storing the API key. If this field is set, the apiKey field will be ignored. Format: projects/{project}/secrets/{secret}/versions/{version}'
                        description_kind: plain
                        optional: true
                    description: 'Config for API key auth. This field is part of a union field ''auth_config'': Only one of ''apiKeyConfig'', ''oauthConfig'', ''serviceAgentAuthConfig'', or ''bearerTokenConfig'' may be set.'
                    description_kind: plain
                  max_items: 1
                bearer_token_config:
                  nesting_mode: list
                  block:
                    attributes:
                      secret_version_for_token:
                        type: string
                        description: 'Optional. The name of the SecretManager secret version resource storing the Bearer token. If this field is set, the ''token'' field will be ignored. Format: projects/{project}/secrets/{secret}/versions/{version}'
                        description_kind: plain
                        optional: true
                      token:
                        type: string
                        description: Optional. The text token appended to the text Bearer to the request Authorization header. [Session parameters reference](https://cloud.google.com/dialogflow/cx/docs/concept/parameter#session-ref) can be used to pass the token dynamically, e.g. '$session.params.parameter-id'.
                        description_kind: plain
                        optional: true
                        sensitive: true
                    description: 'Config for bearer token auth. This field is part of a union field ''auth_config'': Only one of ''apiKeyConfig'', ''oauthConfig'', ''serviceAgentAuthConfig'', or ''bearerTokenConfig'' may be set.'
                    description_kind: plain
                  max_items: 1
                oauth_config:
                  nesting_mode: list
                  block:
                    attributes:
                      client_id:
                        type: string
                        description: The client ID from the OAuth provider.
                        description_kind: plain
                        required: true
                      client_secret:
                        type: string
                        description: Optional. The client secret from the OAuth provider. If the 'secretVersionForClientSecret' field is set, this field will be ignored.
                        description_kind: plain
                        optional: true
                        sensitive: true
                      oauth_grant_type:
                        type: string
                        description: OAuth grant types. See [OauthGrantType](https://cloud.google.com/dialogflow/cx/docs/reference/rest/v3/projects.locations.agents.tools#oauthgranttype) for valid values
                        description_kind: plain
                        required: true
                      scopes:
                        type:
                        - list
                        - string
                        description: Optional. The OAuth scopes to grant.
                        description_kind: plain
                        optional: true
                      secret_version_for_client_secret:
                        type: string
                        description: 'Optional. The name of the SecretManager secret version resource storing the client secret. If this field is set, the clientSecret field will be ignored. Format: projects/{project}/secrets/{secret}/versions/{version}'
                        description_kind: plain
                        optional: true
                      token_endpoint:
                        type: string
                        description: The token endpoint in the OAuth provider to exchange for an access token.
                        description_kind: plain
                        required: true
                    description: 'Config for OAuth. This field is part of a union field ''auth_config'': Only one of ''apiKeyConfig'', ''oauthConfig'', ''serviceAgentAuthConfig'', or ''bearerTokenConfig'' may be set.'
                    description_kind: plain
                  max_items: 1
                service_agent_auth_config:
                  nesting_mode: list
                  block:
                    attributes:
                      service_agent_auth:
                        type: string
                        description: Optional. Indicate the auth token type generated from the Diglogflow service agent. The generated token is sent in the Authorization header. See [ServiceAgentAuth](https://cloud.google.com/dialogflow/cx/docs/reference/rest/v3/projects.locations.agents.tools#serviceagentauth) for valid values.
                        description_kind: plain
                        optional: true
                    description: 'Config for [Diglogflow service agent](https://cloud.google.com/iam/docs/service-agents#dialogflow-service-agent) auth. This field is part of a union field ''auth_config'': Only one of ''apiKeyConfig'', ''oauthConfig'', ''serviceAgentAuthConfig'', or ''bearerTokenConfig'' may be set.'
                    description_kind: plain
                  max_items: 1
              description: Optional. Authentication information required by the API.
              description_kind: plain
            max_items: 1
          service_directory_config:
            nesting_mode: list
            block:
              attributes:
                service:
                  type: string
                  description: 'The name of [Service Directory](https://cloud.google.com/service-directory/docs) service. Format: projects/<ProjectID>/locations/<LocationID>/namespaces/<NamespaceID>/services/<ServiceID>. LocationID of the service directory must be the same as the location of the agent.'
                  description_kind: plain
                  required: true
              description: Optional. Service Directory configuration.
              description_kind: plain
            max_items: 1
          tls_config:
            nesting_mode: list
            block:
              block_types:
                ca_certs:
                  nesting_mode: list
                  block:
                    attributes:
                      cert:
                        type: string
                        description: 'The allowed custom CA certificates (in DER format) for HTTPS verification. This overrides the default SSL trust store. If this is empty or unspecified, Dialogflow will use Google''s default trust store to verify certificates. N.B. Make sure the HTTPS server certificates are signed with "subject alt name". For instance a certificate can be self-signed using the following command: '''''' openssl x509 -req -days 200 -in example.com.csr \ -signkey example.com.key \ -out example.com.crt \ -extfile <(printf "\nsubjectAltName=''DNS:www.example.com''") '''''' A base64-encoded string.'
                        description_kind: plain
                        required: true
                      display_name:
                        type: string
                        description: The name of the allowed custom CA certificates. This can be used to disambiguate the custom CA certificates.
                        description_kind: plain
                        required: true
                    description: Specifies a list of allowed custom CA certificates for HTTPS verification.
                    description_kind: plain
                  min_items: 1
              description: Optional. TLS configuration for the HTTPS verification.
              description_kind: plain
            max_items: 1
        description: 'OpenAPI specification of the Tool. This field is part of a union field ''specification'': Only one of ''openApiSpec'', ''dataStoreSpec'', or ''functionSpec'' may be set.'
        description_kind: plain
      max_items: 1
    timeouts:
      nesting_mode: single
      block:
        attributes:
          create:
            type: string
            description_kind: plain
            optional: true
          delete:
            type: string
            description_kind: plain
            optional: true
          update:
            type: string
            description_kind: plain
            optional: true
        description_kind: plain
  description_kind: plain
