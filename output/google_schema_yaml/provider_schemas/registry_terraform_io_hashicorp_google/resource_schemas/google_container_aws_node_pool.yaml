version: 0
block:
  attributes:
    annotations:
      type:
      - map
      - string
      description: 'Optional. Annotations on the node pool. This field has the same restrictions as Kubernetes annotations. The total size of all keys and values combined is limited to 256k. Key can have 2 segments: prefix (optional) and name (required), separated by a slash (/). Prefix must be a DNS subdomain. Name must be 63 characters or less, begin and end with alphanumerics, with dashes (-), underscores (_), dots (.), and alphanumerics between. **Note**: This field is non-authoritative, and will only manage the annotations present in your configuration. Please refer to the field `effective_annotations` for all of the annotations present on the resource.'
      description_kind: plain
      optional: true
    cluster:
      type: string
      description: The awsCluster for the resource
      description_kind: plain
      required: true
    create_time:
      type: string
      description: Output only. The time at which this node pool was created.
      description_kind: plain
      computed: true
    effective_annotations:
      type:
      - map
      - string
      description: All of annotations (key/value pairs) present on the resource in GCP, including the annotations configured through Terraform, other clients and services.
      description_kind: plain
      computed: true
    etag:
      type: string
      description: Allows clients to perform consistent read-modify-writes through optimistic concurrency control. May be sent on update and delete requests to ensure the client has an up-to-date value before proceeding.
      description_kind: plain
      computed: true
    id:
      type: string
      description_kind: plain
      optional: true
      computed: true
    location:
      type: string
      description: The location for the resource
      description_kind: plain
      required: true
    name:
      type: string
      description: The name of this resource.
      description_kind: plain
      required: true
    project:
      type: string
      description: The project for the resource
      description_kind: plain
      optional: true
      computed: true
    reconciling:
      type: bool
      description: Output only. If set, there are currently changes in flight to the node pool.
      description_kind: plain
      computed: true
    state:
      type: string
      description: 'Output only. The lifecycle state of the node pool. Possible values: STATE_UNSPECIFIED, PROVISIONING, RUNNING, RECONCILING, STOPPING, ERROR, DEGRADED'
      description_kind: plain
      computed: true
    subnet_id:
      type: string
      description: The subnet where the node pool node run.
      description_kind: plain
      required: true
    uid:
      type: string
      description: Output only. A globally unique identifier for the node pool.
      description_kind: plain
      computed: true
    update_time:
      type: string
      description: Output only. The time at which this node pool was last updated.
      description_kind: plain
      computed: true
    version:
      type: string
      description: The Kubernetes version to run on this node pool (e.g. `1.19.10-gke.1000`). You can list all supported versions on a given Google Cloud region by calling GetAwsServerConfig.
      description_kind: plain
      required: true
  block_types:
    autoscaling:
      nesting_mode: list
      block:
        attributes:
          max_node_count:
            type: number
            description: Maximum number of nodes in the NodePool. Must be >= min_node_count.
            description_kind: plain
            required: true
          min_node_count:
            type: number
            description: Minimum number of nodes in the NodePool. Must be >= 1 and <= max_node_count.
            description_kind: plain
            required: true
        description: Autoscaler configuration for this node pool.
        description_kind: plain
      min_items: 1
      max_items: 1
    config:
      nesting_mode: list
      block:
        attributes:
          iam_instance_profile:
            type: string
            description: The name of the AWS IAM role assigned to nodes in the pool.
            description_kind: plain
            required: true
          instance_type:
            type: string
            description: Optional. The AWS instance type. When unspecified, it defaults to `m5.large`.
            description_kind: plain
            optional: true
            computed: true
          labels:
            type:
            - map
            - string
            description: 'Optional. The initial labels assigned to nodes of this node pool. An object containing a list of "key": value pairs. Example: { "name": "wrench", "mass": "1.3kg", "count": "3" }.'
            description_kind: plain
            optional: true
          security_group_ids:
            type:
            - list
            - string
            description: Optional. The IDs of additional security groups to add to nodes in this pool. The manager will automatically create security groups with minimum rules needed for a functioning cluster.
            description_kind: plain
            optional: true
          tags:
            type:
            - map
            - string
            description: Optional. Key/value metadata to assign to each underlying AWS resource. Specify at most 50 pairs containing alphanumerics, spaces, and symbols (.+-=_:@/). Keys can be up to 127 Unicode characters. Values can be up to 255 Unicode characters.
            description_kind: plain
            optional: true
        block_types:
          autoscaling_metrics_collection:
            nesting_mode: list
            block:
              attributes:
                granularity:
                  type: string
                  description: The frequency at which EC2 Auto Scaling sends aggregated data to AWS CloudWatch. The only valid value is "1Minute".
                  description_kind: plain
                  required: true
                metrics:
                  type:
                  - list
                  - string
                  description: The metrics to enable. For a list of valid metrics, see https://docs.aws.amazon.com/autoscaling/ec2/APIReference/API_EnableMetricsCollection.html. If you specify granularity and don't specify any metrics, all metrics are enabled.
                  description_kind: plain
                  optional: true
              description: Optional. Configuration related to CloudWatch metrics collection on the Auto Scaling group of the node pool. When unspecified, metrics collection is disabled.
              description_kind: plain
            max_items: 1
          config_encryption:
            nesting_mode: list
            block:
              attributes:
                kms_key_arn:
                  type: string
                  description: The ARN of the AWS KMS key used to encrypt node pool configuration.
                  description_kind: plain
                  required: true
              description: The ARN of the AWS KMS key used to encrypt node pool configuration.
              description_kind: plain
            min_items: 1
            max_items: 1
          proxy_config:
            nesting_mode: list
            block:
              attributes:
                secret_arn:
                  type: string
                  description: The ARN of the AWS Secret Manager secret that contains the HTTP(S) proxy configuration.
                  description_kind: plain
                  required: true
                secret_version:
                  type: string
                  description: The version string of the AWS Secret Manager secret that contains the HTTP(S) proxy configuration.
                  description_kind: plain
                  required: true
              description: Proxy configuration for outbound HTTP(S) traffic.
              description_kind: plain
            max_items: 1
          root_volume:
            nesting_mode: list
            block:
              attributes:
                iops:
                  type: number
                  description: Optional. The number of I/O operations per second (IOPS) to provision for GP3 volume.
                  description_kind: plain
                  optional: true
                  computed: true
                kms_key_arn:
                  type: string
                  description: Optional. The Amazon Resource Name (ARN) of the Customer Managed Key (CMK) used to encrypt AWS EBS volumes. If not specified, the default Amazon managed key associated to the AWS region where this cluster runs will be used.
                  description_kind: plain
                  optional: true
                size_gib:
                  type: number
                  description: Optional. The size of the volume, in GiBs. When unspecified, a default value is provided. See the specific reference in the parent resource.
                  description_kind: plain
                  optional: true
                  computed: true
                throughput:
                  type: number
                  description: Optional. The throughput to provision for the volume, in MiB/s. Only valid if the volume type is GP3. If volume type is gp3 and throughput is not specified, the throughput will defaults to 125.
                  description_kind: plain
                  optional: true
                  computed: true
                volume_type:
                  type: string
                  description: 'Optional. Type of the EBS volume. When unspecified, it defaults to GP2 volume. Possible values: VOLUME_TYPE_UNSPECIFIED, GP2, GP3'
                  description_kind: plain
                  optional: true
                  computed: true
              description: Optional. Template for the root volume provisioned for node pool nodes. Volumes will be provisioned in the availability zone assigned to the node pool subnet. When unspecified, it defaults to 32 GiB with the GP2 volume type.
              description_kind: plain
            max_items: 1
          ssh_config:
            nesting_mode: list
            block:
              attributes:
                ec2_key_pair:
                  type: string
                  description: The name of the EC2 key pair used to login into cluster machines.
                  description_kind: plain
                  required: true
              description: Optional. The SSH configuration.
              description_kind: plain
            max_items: 1
          taints:
            nesting_mode: list
            block:
              attributes:
                effect:
                  type: string
                  description: 'The taint effect. Possible values: EFFECT_UNSPECIFIED, NO_SCHEDULE, PREFER_NO_SCHEDULE, NO_EXECUTE'
                  description_kind: plain
                  required: true
                key:
                  type: string
                  description: Key for the taint.
                  description_kind: plain
                  required: true
                value:
                  type: string
                  description: Value for the taint.
                  description_kind: plain
                  required: true
              description: Optional. The initial taints assigned to nodes of this node pool.
              description_kind: plain
        description: The configuration of the node pool.
        description_kind: plain
      min_items: 1
      max_items: 1
    kubelet_config:
      nesting_mode: list
      block:
        attributes:
          cpu_cfs_quota:
            type: bool
            description: Whether or not to enable CPU CFS quota. Defaults to true.
            description_kind: plain
            optional: true
            computed: true
          cpu_cfs_quota_period:
            type: string
            description: Optional. The CPU CFS quota period to use for the node. Defaults to "100ms".
            description_kind: plain
            optional: true
          cpu_manager_policy:
            type: string
            description: The CpuManagerPolicy to use for the node. Defaults to "none".
            description_kind: plain
            optional: true
            computed: true
          pod_pids_limit:
            type: number
            description: Optional. The maximum number of PIDs in each pod running on the node. The limit scales automatically based on underlying machine size if left unset.
            description_kind: plain
            optional: true
        description: The kubelet configuration for the node pool.
        description_kind: plain
      max_items: 1
    management:
      nesting_mode: list
      block:
        attributes:
          auto_repair:
            type: bool
            description: Optional. Whether or not the nodes will be automatically repaired.
            description_kind: plain
            optional: true
            computed: true
        description: The Management configuration for this node pool.
        description_kind: plain
      max_items: 1
    max_pods_constraint:
      nesting_mode: list
      block:
        attributes:
          max_pods_per_node:
            type: number
            description: The maximum number of pods to schedule on a single node.
            description_kind: plain
            required: true
        description: The constraint on the maximum number of pods that can be run simultaneously on a node in the node pool.
        description_kind: plain
      min_items: 1
      max_items: 1
    timeouts:
      nesting_mode: single
      block:
        attributes:
          create:
            type: string
            description_kind: plain
            optional: true
          delete:
            type: string
            description_kind: plain
            optional: true
          update:
            type: string
            description_kind: plain
            optional: true
        description_kind: plain
    update_settings:
      nesting_mode: list
      block:
        block_types:
          surge_settings:
            nesting_mode: list
            block:
              attributes:
                max_surge:
                  type: number
                  description: Optional. The maximum number of nodes that can be created beyond the current size of the node pool during the update process.
                  description_kind: plain
                  optional: true
                  computed: true
                max_unavailable:
                  type: number
                  description: Optional. The maximum number of nodes that can be simultaneously unavailable during the update process. A node is considered unavailable if its status is not Ready.
                  description_kind: plain
                  optional: true
                  computed: true
              description: Optional. Settings for surge update.
              description_kind: plain
            max_items: 1
        description: Optional. Update settings control the speed and disruption of the node pool update.
        description_kind: plain
      max_items: 1
  description_kind: plain
