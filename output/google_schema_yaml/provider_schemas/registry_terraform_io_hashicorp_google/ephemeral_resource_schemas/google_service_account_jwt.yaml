version: 0
block:
  attributes:
    delegates:
      type:
      - set
      - string
      description: Delegate chain of approvals needed to perform full impersonation. Specify the fully qualified service account name.
      description_kind: plain
      optional: true
    expires_in:
      type: number
      description: Number of seconds until the JWT expires. If set and non-zero an `exp` claim will be added to the payload derived from the current timestamp plus expires_in seconds.
      description_kind: plain
      optional: true
    jwt:
      type: string
      description: The signed JWT containing the JWT Claims Set from the `payload`.
      description_kind: plain
      computed: true
      sensitive: true
    payload:
      type: string
      description: A JSON-encoded JWT claims set that will be included in the signed JWT.
      description_kind: plain
      required: true
    target_service_account:
      type: string
      description: The email of the service account that will sign the JWT.
      description_kind: plain
      required: true
  description: Produces an arbitrary self-signed JWT for service accounts.
  description_kind: plain
