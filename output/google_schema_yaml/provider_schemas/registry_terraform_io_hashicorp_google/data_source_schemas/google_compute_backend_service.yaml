version: 0
block:
  attributes:
    affinity_cookie_ttl_sec:
      type: number
      description: Lifetime of cookies in seconds if session_affinity is GENERATED_COOKIE. If set to 0, the cookie is non-persistent and lasts only until the end of the browser session (or equivalent). The maximum allowed value for TTL is one day. When the load balancing scheme is INTERNAL, this field is not used.
      description_kind: plain
      computed: true
    backend:
      type:
      - set
      - - object
        - balancing_mode: string
          capacity_scaler: number
          custom_metrics:
          - list
          - - object
            - dry_run: bool
              max_utilization: number
              name: string
          description: string
          group: string
          max_connections: number
          max_connections_per_endpoint: number
          max_connections_per_instance: number
          max_rate: number
          max_rate_per_endpoint: number
          max_rate_per_instance: number
          max_utilization: number
          preference: string
      description: The set of backends that serve this BackendService.
      description_kind: plain
      computed: true
    cdn_policy:
      type:
      - list
      - - object
        - bypass_cache_on_request_headers:
          - list
          - - object
            - header_name: string
          cache_key_policy:
          - list
          - - object
            - include_host: bool
              include_http_headers:
              - list
              - string
              include_named_cookies:
              - list
              - string
              include_protocol: bool
              include_query_string: bool
              query_string_blacklist:
              - set
              - string
              query_string_whitelist:
              - set
              - string
          cache_mode: string
          client_ttl: number
          default_ttl: number
          max_ttl: number
          negative_caching: bool
          negative_caching_policy:
          - list
          - - object
            - code: number
              ttl: number
          request_coalescing: bool
          serve_while_stale: number
          signed_url_cache_max_age_sec: number
      description: Cloud CDN configuration for this BackendService.
      description_kind: plain
      computed: true
    circuit_breakers:
      type:
      - list
      - - object
        - max_connections: number
          max_pending_requests: number
          max_requests: number
          max_requests_per_connection: number
          max_retries: number
      description: Settings controlling the volume of connections to a backend service. This field is applicable only when the load_balancing_scheme is set to INTERNAL_SELF_MANAGED.
      description_kind: plain
      computed: true
    compression_mode:
      type: string
      description: 'Compress text responses using Brotli or gzip compression, based on the client''s Accept-Encoding header. Possible values: ["AUTOMATIC", "DISABLED"]'
      description_kind: plain
      computed: true
    connection_draining_timeout_sec:
      type: number
      description: Time for which instance will be drained (not accept new connections, but still work to finish started).
      description_kind: plain
      computed: true
    consistent_hash:
      type:
      - list
      - - object
        - http_cookie:
          - list
          - - object
            - name: string
              path: string
              ttl:
              - list
              - - object
                - nanos: number
                  seconds: number
          http_header_name: string
          minimum_ring_size: number
      description: Consistent Hash-based load balancing can be used to provide soft session affinity based on HTTP headers, cookies or other properties. This load balancing policy is applicable only for HTTP connections. The affinity to a particular destination host will be lost when one or more hosts are added/removed from the destination service. This field specifies parameters that control consistent hashing. This field only applies if the load_balancing_scheme is set to INTERNAL_SELF_MANAGED. This field is only applicable when locality_lb_policy is set to MAGLEV or RING_HASH.
      description_kind: plain
      computed: true
    creation_timestamp:
      type: string
      description: Creation timestamp in RFC3339 text format.
      description_kind: plain
      computed: true
    custom_metrics:
      type:
      - list
      - - object
        - dry_run: bool
          name: string
      description: List of custom metrics that are used for the WEIGHTED_ROUND_ROBIN locality_lb_policy.
      description_kind: plain
      computed: true
    custom_request_headers:
      type:
      - set
      - string
      description: Headers that the HTTP/S load balancer should add to proxied requests.
      description_kind: plain
      computed: true
    custom_response_headers:
      type:
      - set
      - string
      description: Headers that the HTTP/S load balancer should add to proxied responses.
      description_kind: plain
      computed: true
    description:
      type: string
      description: An optional description of this resource.
      description_kind: plain
      computed: true
    edge_security_policy:
      type: string
      description: The resource URL for the edge security policy associated with this backend service.
      description_kind: plain
      computed: true
    enable_cdn:
      type: bool
      description: If true, enable Cloud CDN for this BackendService.
      description_kind: plain
      computed: true
    external_managed_migration_state:
      type: string
      description: 'Specifies the canary migration state. Possible values are PREPARE, TEST_BY_PERCENTAGE, and TEST_ALL_TRAFFIC. To begin the migration from EXTERNAL to EXTERNAL_MANAGED, the state must be changed to PREPARE. The state must be changed to TEST_ALL_TRAFFIC before the loadBalancingScheme can be changed to EXTERNAL_MANAGED. Optionally, the TEST_BY_PERCENTAGE state can be used to migrate traffic by percentage using externalManagedMigrationTestingPercentage. Rolling back a migration requires the states to be set in reverse order. So changing the scheme from EXTERNAL_MANAGED to EXTERNAL requires the state to be set to TEST_ALL_TRAFFIC at the same time. Optionally, the TEST_BY_PERCENTAGE state can be used to migrate some traffic back to EXTERNAL or PREPARE can be used to migrate all traffic back to EXTERNAL. Possible values: ["PREPARE", "TEST_BY_PERCENTAGE", "TEST_ALL_TRAFFIC"]'
      description_kind: plain
      computed: true
    external_managed_migration_testing_percentage:
      type: number
      description: 'Determines the fraction of requests that should be processed by the Global external Application Load Balancer. The value of this field must be in the range [0, 100]. Session affinity options will slightly affect this routing behavior, for more details, see: Session Affinity. This value can only be set if the loadBalancingScheme in the backend service is set to EXTERNAL (when using the Classic ALB) and the migration state is TEST_BY_PERCENTAGE.'
      description_kind: plain
      computed: true
    fingerprint:
      type: string
      description: Fingerprint of this resource. A hash of the contents stored in this object. This field is used in optimistic locking.
      description_kind: plain
      computed: true
    generated_id:
      type: number
      description: The unique identifier for the resource. This identifier is defined by the server.
      description_kind: plain
      computed: true
    health_checks:
      type:
      - set
      - string
      description: The set of URLs to the HttpHealthCheck or HttpsHealthCheck resource for health checking this BackendService. Currently at most one health check can be specified. A health check must be specified unless the backend service uses an internet or serverless NEG as a backend. For internal load balancing, a URL to a HealthCheck resource must be specified instead.
      description_kind: plain
      computed: true
    iap:
      type:
      - list
      - - object
        - enabled: bool
          oauth2_client_id: string
          oauth2_client_secret: string
          oauth2_client_secret_sha256: string
      description: Settings for enabling Cloud Identity Aware Proxy. If OAuth client is not set, the Google-managed OAuth client is used.
      description_kind: plain
      computed: true
    id:
      type: string
      description_kind: plain
      optional: true
      computed: true
    ip_address_selection_policy:
      type: string
      description: 'Specifies preference of traffic to the backend (from the proxy and from the client for proxyless gRPC). Possible values: ["IPV4_ONLY", "PREFER_IPV6", "IPV6_ONLY"]'
      description_kind: plain
      computed: true
    load_balancing_scheme:
      type: string
      description: 'Indicates whether the backend service will be used with internal or external load balancing. A backend service created for one type of load balancing cannot be used with the other. For more information, refer to [Choosing a load balancer](https://cloud.google.com/load-balancing/docs/backend-service). Default value: "EXTERNAL" Possible values: ["EXTERNAL", "INTERNAL_SELF_MANAGED", "INTERNAL_MANAGED", "EXTERNAL_MANAGED"]'
      description_kind: plain
      computed: true
    locality_lb_policies:
      type:
      - list
      - - object
        - custom_policy:
          - list
          - - object
            - data: string
              name: string
          policy:
          - list
          - - object
            - name: string
      description: A list of locality load balancing policies to be used in order of preference. Either the policy or the customPolicy field should be set. Overrides any value set in the localityLbPolicy field. localityLbPolicies is only supported when the BackendService is referenced by a URL Map that is referenced by a target gRPC proxy that has the validateForProxyless field set to true.
      description_kind: plain
      computed: true
    locality_lb_policy:
      type: string
      description: 'The load balancing algorithm used within the scope of the locality. The possible values are: * ''ROUND_ROBIN'': This is a simple policy in which each healthy backend is selected in round robin order. * ''LEAST_REQUEST'': An O(1) algorithm which selects two random healthy hosts and picks the host which has fewer active requests. * ''RING_HASH'': The ring/modulo hash load balancer implements consistent hashing to backends. The algorithm has the property that the addition/removal of a host from a set of N hosts only affects 1/N of the requests. * ''RANDOM'': The load balancer selects a random healthy host. * ''ORIGINAL_DESTINATION'': Backend host is selected based on the client connection metadata, i.e., connections are opened to the same address as the destination address of the incoming connection before the connection was redirected to the load balancer. * ''MAGLEV'': used as a drop in replacement for the ring hash load balancer. Maglev is not as stable as ring hash but has faster table lookup build times and host selection times. For more information about Maglev, refer to https://ai.google/research/pubs/pub44824 * ''WEIGHTED_MAGLEV'': Per-instance weighted Load Balancing via health check reported weights. Only applicable to loadBalancingScheme EXTERNAL. If set, the Backend Service must configure a non legacy HTTP-based Health Check, and health check replies are expected to contain non-standard HTTP response header field X-Load-Balancing-Endpoint-Weight to specify the per-instance weights. If set, Load Balancing is weight based on the per-instance weights reported in the last processed health check replies, as long as every instance either reported a valid weight or had UNAVAILABLE_WEIGHT. Otherwise, Load Balancing remains equal-weight. * ''WEIGHTED_ROUND_ROBIN'': Per-endpoint weighted round-robin Load Balancing using weights computed from Backend reported Custom Metrics. If set, the Backend Service responses are expected to contain non-standard HTTP response header field X-Endpoint-Load-Metrics. The reported metrics to use for computing the weights are specified via the backends[].customMetrics fields. locality_lb_policy is applicable to either: * A regional backend service with the service_protocol set to HTTP, HTTPS, HTTP2 or H2C, and loadBalancingScheme set to INTERNAL_MANAGED. * A global backend service with the load_balancing_scheme set to INTERNAL_SELF_MANAGED. * A regional backend service with loadBalancingScheme set to EXTERNAL (External Network Load Balancing). Only MAGLEV and WEIGHTED_MAGLEV values are possible for External Network Load Balancing. The default is MAGLEV. If session_affinity is not NONE, and locality_lb_policy is not set to MAGLEV, WEIGHTED_MAGLEV, or RING_HASH, session affinity settings will not take effect. Only ROUND_ROBIN and RING_HASH are supported when the backend service is referenced by a URL map that is bound to target gRPC proxy that has validate_for_proxyless field set to true. Possible values: ["ROUND_ROBIN", "LEAST_REQUEST", "RING_HASH", "RANDOM", "ORIGINAL_DESTINATION", "MAGLEV", "WEIGHTED_MAGLEV", "WEIGHTED_ROUND_ROBIN"]'
      description_kind: plain
      computed: true
    log_config:
      type:
      - list
      - - object
        - enable: bool
          optional_fields:
          - list
          - string
          optional_mode: string
          sample_rate: number
      description: This field denotes the logging options for the load balancer traffic served by this backend service. If logging is enabled, logs will be exported to Stackdriver.
      description_kind: plain
      computed: true
    max_stream_duration:
      type:
      - list
      - - object
        - nanos: number
          seconds: string
      description: Specifies the default maximum duration (timeout) for streams to this service. Duration is computed from the beginning of the stream until the response has been completely processed, including all retries. A stream that does not complete in this duration is closed. If not specified, there will be no timeout limit, i.e. the maximum duration is infinite. This value can be overridden in the PathMatcher configuration of the UrlMap that references this backend service. This field is only allowed when the loadBalancingScheme of the backend service is INTERNAL_SELF_MANAGED.
      description_kind: plain
      computed: true
    name:
      type: string
      description: Name of the resource. Provided by the client when the resource is created. The name must be 1-63 characters long, and comply with RFC1035. Specifically, the name must be 1-63 characters long and match the regular expression '[a-z]([-a-z0-9]*[a-z0-9])?' which means the first character must be a lowercase letter, and all following characters must be a dash, lowercase letter, or digit, except the last character, which cannot be a dash.
      description_kind: plain
      required: true
    outlier_detection:
      type:
      - list
      - - object
        - base_ejection_time:
          - list
          - - object
            - nanos: number
              seconds: number
          consecutive_errors: number
          consecutive_gateway_failure: number
          enforcing_consecutive_errors: number
          enforcing_consecutive_gateway_failure: number
          enforcing_success_rate: number
          interval:
          - list
          - - object
            - nanos: number
              seconds: number
          max_ejection_percent: number
          success_rate_minimum_hosts: number
          success_rate_request_volume: number
          success_rate_stdev_factor: number
      description: Settings controlling eviction of unhealthy hosts from the load balancing pool. Applicable backend service types can be a global backend service with the loadBalancingScheme set to INTERNAL_SELF_MANAGED or EXTERNAL_MANAGED.
      description_kind: plain
      computed: true
    params:
      type:
      - list
      - - object
        - resource_manager_tags:
          - map
          - string
      description: Additional params passed with the request, but not persisted as part of resource payload
      description_kind: plain
      computed: true
    port_name:
      type: string
      description: Name of backend port. The same name should appear in the instance groups referenced by this service. Required when the load balancing scheme is EXTERNAL.
      description_kind: plain
      computed: true
    project:
      type: string
      description_kind: plain
      optional: true
    protocol:
      type: string
      description: 'The protocol this BackendService uses to communicate with backends. The default is HTTP. Possible values are HTTP, HTTPS, HTTP2, H2C, TCP, SSL, UDP or GRPC. Refer to the documentation for the load balancers or for Traffic Director for more information. Must be set to GRPC when the backend service is referenced by a URL map that is bound to target gRPC proxy. Possible values: ["HTTP", "HTTPS", "HTTP2", "TCP", "SSL", "UDP", "GRPC", "UNSPECIFIED", "H2C"]'
      description_kind: plain
      computed: true
    security_policy:
      type: string
      description: The security policy associated with this backend service.
      description_kind: plain
      computed: true
    security_settings:
      type:
      - list
      - - object
        - aws_v4_authentication:
          - list
          - - object
            - access_key: string
              access_key_id: string
              access_key_version: string
              origin_region: string
          client_tls_policy: string
          subject_alt_names:
          - list
          - string
      description: The security settings that apply to this backend service. This field is applicable to either a regional backend service with the service_protocol set to HTTP, HTTPS, HTTP2 or H2C, and load_balancing_scheme set to INTERNAL_MANAGED; or a global backend service with the load_balancing_scheme set to INTERNAL_SELF_MANAGED.
      description_kind: plain
      computed: true
    self_link:
      type: string
      description_kind: plain
      computed: true
    service_lb_policy:
      type: string
      description: URL to networkservices.ServiceLbPolicy resource. Can only be set if load balancing scheme is EXTERNAL, EXTERNAL_MANAGED, INTERNAL_MANAGED or INTERNAL_SELF_MANAGED and the scope is global.
      description_kind: plain
      computed: true
    session_affinity:
      type: string
      description: 'Type of session affinity to use. The default is NONE. Session affinity is not applicable if the protocol is UDP. Possible values: ["NONE", "CLIENT_IP", "CLIENT_IP_PORT_PROTO", "CLIENT_IP_PROTO", "GENERATED_COOKIE", "HEADER_FIELD", "HTTP_COOKIE", "STRONG_COOKIE_AFFINITY"]'
      description_kind: plain
      computed: true
    strong_session_affinity_cookie:
      type:
      - list
      - - object
        - name: string
          path: string
          ttl:
          - list
          - - object
            - nanos: number
              seconds: number
      description: Describes the HTTP cookie used for stateful session affinity. This field is applicable and required if the sessionAffinity is set to STRONG_COOKIE_AFFINITY.
      description_kind: plain
      computed: true
    timeout_sec:
      type: number
      description: The backend service timeout has a different meaning depending on the type of load balancer. For more information see, [Backend service settings](https://cloud.google.com/compute/docs/reference/rest/v1/backendServices). The default is 30 seconds. The full range of timeout values allowed goes from 1 through 2,147,483,647 seconds.
      description_kind: plain
      computed: true
    tls_settings:
      type:
      - list
      - - object
        - authentication_config: string
          sni: string
          subject_alt_names:
          - list
          - - object
            - dns_name: string
              uniform_resource_identifier: string
      description: Configuration for Backend Authenticated TLS and mTLS. May only be specified when the backend protocol is SSL, HTTPS or HTTP2.
      description_kind: plain
      computed: true
  description_kind: plain
